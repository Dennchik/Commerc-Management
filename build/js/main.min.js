"use strict";(self.webpackChunkcommercmanagement=self.webpackChunkcommercmanagement||[]).push([[792],{468:()=>{const t="undefined"!=typeof window,e=t?window:null,s=t?document:null,i=0,n=1,r=2,a=3,o=4,u=0,l=1,h=2,d=3,c=0,p=1,m=2,f={replace:0,none:1,blend:2},g=Symbol(),_=Symbol(),k=Symbol(),v=Symbol(),b=(Symbol(),Symbol()),y=1e-11,C=1e12,E=1e3,x="",S=(()=>{const t=new Map;return t.set("x","translateX"),t.set("y","translateY"),t.set("z","translateZ"),t})(),A=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],w=A.reduce(((t,e)=>({...t,[e]:e+"("})),{}),noop=()=>{},T=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,M=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,D=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,F=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,I=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,B=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,V=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,L=/([a-z])([A-Z])/g,P=/(\w+)(\([^)]+\)+)/g,R=/(\*=|\+=|-=)/,O={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:120,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:E,delay:0,loopDelay:0,ease:"out(2)",composition:f.replace,modifier:t=>t,onBegin:noop,onBeforeUpdate:noop,onUpdate:noop,onLoop:noop,onPause:noop,onComplete:noop,onRender:noop},N={current:null,root:s},$={defaults:O,precision:4,timeScale:1,tickThreshold:200},q={version:"4.1.1",engine:null};t&&(e.AnimeJS||(e.AnimeJS=[]),e.AnimeJS.push(q));const toLowerCase=t=>t.replace(L,"$1-$2").toLowerCase(),stringStartsWith=(t,e)=>0===t.indexOf(e),U=Date.now,z=Array.isArray,isObj=t=>t&&t.constructor===Object,isNum=t=>"number"==typeof t&&!isNaN(t),isStr=t=>"string"==typeof t,isFnc=t=>"function"==typeof t,isUnd=t=>void 0===t,isNil=t=>isUnd(t)||null===t,isSvg=e=>t&&e instanceof SVGElement,isHex=t=>T.test(t),isRgb=t=>stringStartsWith(t,"rgb"),isHsl=t=>stringStartsWith(t,"hsl"),isKey=t=>!$.defaults.hasOwnProperty(t),parseNumber=t=>isStr(t)?parseFloat(t):t,H=Math.pow,j=Math.sqrt,Y=Math.sin,W=Math.cos,X=Math.abs,K=(Math.exp,Math.ceil),Z=Math.floor,Q=Math.asin,G=Math.max,J=(Math.atan2,Math.PI),tt=Math.round,clamp=(t,e,s)=>t<e?e:t>s?s:t,et={},round=(t,e)=>{if(e<0)return t;if(!e)return tt(t);let s=et[e];return s||(s=et[e]=10**e),tt(t*s)/s},snap=(t,e)=>z(e)?e.reduce(((e,s)=>X(s-t)<X(e-t)?s:e)):e?tt(t/e)*e:t,interpolate=(t,e,s)=>t+(e-t)*s,random=(t,e,s)=>{const i=10**(s||0);return Z((Math.random()*(e-t+1/i)+t)*i)/i},shuffle=t=>{let e,s,i=t.length;for(;i;)s=random(0,--i),e=t[i],t[i]=t[s],t[s]=e;return t},clampInfinity=t=>t===1/0?C:t===-1/0?-1e12:t,normalizeTime=t=>t<=y?y:clampInfinity(round(t,11)),cloneArray=t=>z(t)?[...t]:t,mergeObjects=(t,e)=>{const s={...t};for(let i in e){const n=t[i];s[i]=isUnd(n)?e[i]:n}return s},forEachChildren=(t,e,s,i="_prev",n="_next")=>{let r=t._head,a=n;for(s&&(r=t._tail,a=i);r;){const t=r[a];e(r),r=t}},removeChild=(t,e,s="_prev",i="_next")=>{const n=e[s],r=e[i];n?n[i]=r:t._head=r,r?r[s]=n:t._tail=n,e[s]=null,e[i]=null},addChild=(t,e,s,i="_prev",n="_next")=>{let r=t._tail;for(;r&&s&&s(r,e);)r=r[i];const a=r?r[n]:t._head;r?r[n]=e:t._head=e,a?a[i]=e:t._tail=e,e[i]=r,e[n]=a},createRefreshable=t=>{let e;return(...s)=>{let i,n,r,a;e&&(i=e.currentIteration,n=e.iterationProgress,r=e.reversed,a=e._alternate,e.revert());const o=t(...s);return o&&!isFnc(o)&&o.revert&&(e=o),isUnd(n)||(e.currentIteration=i,e.iterationProgress=(a&&i%2?!r:r)?1-n:n),o||noop}};class Clock{constructor(t=0){this.deltaTime=0,this._currentTime=t,this._elapsedTime=t,this._startTime=t,this._lastTime=t,this._scheduledTime=0,this._frameDuration=round(E/120,0),this._fps=120,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(t){const e=this._frameDuration,s=+t,i=s<y?y:s,n=round(E/i,0);this._fps=i,this._frameDuration=n,this._scheduledTime+=n-e}get speed(){return this._speed}set speed(t){const e=+t;this._speed=e<y?y:e}requestTick(t){const e=this._scheduledTime,s=this._elapsedTime;if(this._elapsedTime+=t-s,s<e)return c;const i=this._frameDuration,n=s-e;return this._scheduledTime+=n<i?i:n,p}computeDeltaTime(t){const e=t-this._lastTime;return this.deltaTime=e,this._lastTime=t,e}}const render=(t,e,s,c,g)=>{const _=t.parent,k=t.duration,b=t.completed,C=t.iterationDuration,E=t.iterationCount,S=t._currentIteration,A=t._loopDelay,T=t._reversed,M=t._alternate,D=t._hasChildren,F=t._delay,I=t._currentTime,B=F+C,V=e-F,L=clamp(I,-F,k),P=clamp(V,-F,k),R=V-I,O=P>0,N=P>=k,q=k<=y,U=g===m;let z=0,H=V,j=0;if(E>1){const e=~~(P/(C+(N?0:A)));t._currentIteration=clamp(e,0,E),N&&t._currentIteration--,z=t._currentIteration%2,H=P%(C+A)||0}const Y=T^(M&&z),W=t._ease;let X=N?Y?0:k:Y?C-H:H;W&&(X=C*W(X/C)||0);const K=(_?_.backwards:V<I)?!Y:!!Y;if(t._currentTime=V,t._iterationTime=X,t.backwards=K,O&&!t.began?(t.began=!0,s||_&&(K||!_.began)||t.onBegin(t)):V<=0&&(t.began=!1),s||D||!O||t._currentIteration===S||t.onLoop(t),U||g===p&&(e>=F&&e<=B||e<=F&&L>F||e>=B&&L!==k)||X>=B&&L!==k||X<=F&&L>0||e<=L&&L===k&&b||N&&!b&&q){if(O&&(t.computeDeltaTime(L),s||t.onBeforeUpdate(t)),!D){const e=U||(K?-1*R:R)>=$.tickThreshold,p=t._offset+(_?_._offset:0)+F+X;let m,g,k,b,y=t._head,C=0;for(;y;){const t=y._composition,s=y._currentTime,_=y._changeDuration,E=y._absoluteStartTime+y._changeDuration,S=y._nextRep,A=y._prevRep,T=t!==f.none;if((e||(s!==_||p<=E+(S?S._delay:0))&&(0!==s||p>=y._absoluteStartTime))&&(!T||!y._isOverridden&&(!y._isOverlapped||p<=E)&&(!S||S._isOverridden||p<=S._absoluteStartTime)&&(!A||A._isOverridden||p>=A._absoluteStartTime+A._changeDuration+y._delay))){const e=y._currentTime=clamp(X-y._startTime,0,_),s=y._ease(e/y._updateDuration),p=y._modifier,E=y._valueType,x=y._tweenType,S=x===i,A=E===u,w=A&&S||0===s||1===s?-1:$.precision;let M,D;if(A)M=D=p(round(interpolate(y._fromNumber,y._toNumber,s),w));else if(E===l)D=p(round(interpolate(y._fromNumber,y._toNumber,s),w)),M=`${D}${y._unit}`;else if(E===h){const t=y._fromNumbers,e=y._toNumbers,i=round(clamp(p(interpolate(t[0],e[0],s)),0,255),0),n=round(clamp(p(interpolate(t[1],e[1],s)),0,255),0),r=round(clamp(p(interpolate(t[2],e[2],s)),0,255),0),a=clamp(p(round(interpolate(t[3],e[3],s),w)),0,1);if(M=`rgba(${i},${n},${r},${a})`,T){const t=y._numbers;t[0]=i,t[1]=n,t[2]=r,t[3]=a}}else if(E===d){M=y._strings[0];for(let t=0,e=y._toNumbers.length;t<e;t++){const e=p(round(interpolate(y._fromNumbers[t],y._toNumbers[t],s),w)),i=y._strings[t+1];M+=`${i?e+i:e}`,T&&(y._numbers[t]=e)}}if(T&&(y._number=D),c||t===f.blend)y._value=M;else{const t=y.property;m=y.target,S?m[t]=M:x===n?m.setAttribute(t,M):(g=m.style,x===a?(m!==k&&(k=m,b=m[v]),b[t]=M,C=1):x===r?g[t]=M:x===o&&g.setProperty(t,M)),O&&(j=1)}}if(C&&y._renderTransforms){let t=x;for(let e in b)t+=`${w[e]}${b[e]}) `;g.transform=t,C=0}y=y._next}!s&&j&&t.onRender(t)}!s&&O&&t.onUpdate(t)}return _&&q?!s&&(_.began&&!K&&V>=k&&!b||K&&V<=y&&b)&&(t.onComplete(t),t.completed=!K):O&&N?E===1/0?t._startTime+=t.duration:t._currentIteration>=E-1&&(t.paused=!0,b||D||(t.completed=!0,s||_&&(K||!_.began)||(t.onComplete(t),t._resolve(t)))):t.completed=!1,j},tick=(t,e,s,i,n)=>{const r=t._currentIteration;if(render(t,e,s,i,n),t._hasChildren){const a=t,o=a.backwards,u=i?e:a._iterationTime,l=U();let h=0,d=!0;if(!i&&a._currentIteration!==r){const t=a.iterationDuration;forEachChildren(a,(e=>{if(o){const i=e.duration,n=e._offset+e._delay;s||!(i<=y)||n&&n+i!==t||e.onComplete(e)}else!e.completed&&!e.backwards&&e._currentTime<e.iterationDuration&&render(e,t,s,1,m),e.began=!1,e.completed=!1})),s||a.onLoop(a)}forEachChildren(a,(t=>{const e=round((u-t._offset)*t._speed,12),r=t._fps<a._fps?t.requestTick(l):n;h+=render(t,e,s,i,r),!t.completed&&d&&(d=!1)}),o),!s&&h&&a.onRender(a),d&&a._currentTime>=a.duration&&(a.paused=!0,a.completed||(a.completed=!0,s||(a.onComplete(a),a._resolve(a))))}},st={animation:null,update:noop},it=(()=>t?requestAnimationFrame:setImmediate)(),nt=(()=>t?cancelAnimationFrame:clearImmediate)();class Engine extends Clock{constructor(e){super(e),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=O,this.paused=!(!t||!s.hidden),this.reqId=null}update(){const t=this._currentTime=U();if(this.requestTick(t)){this.computeDeltaTime(t);const e=this._speed,s=this._fps;let i=this._head;for(;i;){const n=i._next;i.paused?(removeChild(this,i),this._hasChildren=!!this._tail,i._running=!1,i.completed&&!i._cancelled&&i.cancel()):tick(i,(t-i._startTime)*i._speed*e,0,0,i._fps<s?i.requestTick(t):p),i=n}st.update()}}wake(){return!this.useDefaultMainLoop||this.reqId||this.paused||(this.reqId=it(tickEngine)),this}pause(){return this.paused=!0,killEngine()}resume(){if(this.paused)return this.paused=!1,forEachChildren(this,(t=>t.resetTime())),this.wake()}get speed(){return this._speed*(1===$.timeScale?1:E)}set speed(t){this._speed=t*$.timeScale,forEachChildren(this,(t=>t.speed=t._speed))}get timeUnit(){return 1===$.timeScale?"ms":"s"}set timeUnit(t){const e="s"===t,s=e?.001:1;if($.timeScale!==s){$.timeScale=s,$.tickThreshold=200*s;const t=e?.001:E;this.defaults.duration*=t,this._speed*=t}}get precision(){return $.precision}set precision(t){$.precision=t}}const rt=(()=>{const e=new Engine(U());return t&&(q.engine=e,s.addEventListener("visibilitychange",(()=>{e.pauseOnDocumentHidden&&(s.hidden?e.pause():e.resume())}))),e})(),tickEngine=()=>{rt._head?(rt.reqId=it(tickEngine),rt.update()):rt.reqId=0},killEngine=()=>(nt(rt.reqId),rt.reqId=0,rt);function getNodeList(t){const e=isStr(t)?N.root.querySelectorAll(t):t;if(e instanceof NodeList||e instanceof HTMLCollection)return e}function parseTargets(e){if(isNil(e))return[];if(z(e)){const t=e.flat(1/0),s=[];for(let e=0,i=t.length;e<i;e++){const i=t[e];if(!isNil(i)){const t=getNodeList(i);if(t)for(let e=0,i=t.length;e<i;e++){const i=t[e];if(!isNil(i)){let t=!1;for(let e=0,n=s.length;e<n;e++)if(s[e]===i){t=!0;break}t||s.push(i)}}else{let t=!1;for(let e=0,n=s.length;e<n;e++)if(s[e]===i){t=!0;break}t||s.push(i)}}}return s}if(!t)return[e];const s=getNodeList(e);return s?Array.from(s):[e]}function registerTargets(t){const e=parseTargets(t),s=e.length;if(s)for(let t=0;t<s;t++){const s=e[t];if(!s[g]){s[g]=!0;const t=isSvg(s);(s.nodeType||t)&&(s[_]=!0,s[k]=t,s[v]={})}}return e}const at=["opacity","rotate","overflow","color"],hue2rgb=(t,e,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(e-t)*s:s<.5?e:s<2/3?t+(e-t)*(2/3-s)*6:t),convertColorStringValuesToRgbaArray=t=>isRgb(t)?(t=>{const e=M.exec(t)||D.exec(t),s=isUnd(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],s]})(t):isHex(t)?(t=>{const e=t.length,s=4===e||5===e;return[+("0x"+t[1]+t[s?1:2]),+("0x"+t[s?2:3]+t[s?2:4]),+("0x"+t[s?3:5]+t[s?3:6]),5===e||9===e?+(+("0x"+t[s?4:7]+t[s?4:8])/255).toFixed(3):1]})(t):isHsl(t)?(t=>{const e=F.exec(t)||I.exec(t),s=+e[1]/360,i=+e[2]/100,n=+e[3]/100,r=isUnd(e[4])?1:+e[4];let a,o,u;if(0===i)a=o=u=n;else{const t=n<.5?n*(1+i):n+i-n*i,e=2*n-t;a=round(255*hue2rgb(e,t,s+1/3),0),o=round(255*hue2rgb(e,t,s),0),u=round(255*hue2rgb(e,t,s-1/3),0)}return[a,o,u,r]})(t):[0,0,0,1],setValue=(t,e)=>isUnd(t)?e:t,getFunctionValue=(t,e,s,i,n)=>{if(isFnc(t)){const func=()=>{const n=t(e,s,i);return isNaN(+n)?n||0:+n};return n&&(n.func=func),func()}return t},getTweenType=(t,e)=>t[_]?t[k]&&((t,e)=>{if(at.includes(e))return!1;if(t.getAttribute(e)||e in t){if("scale"===e){const e=t.parentNode;return e&&"filter"===e.tagName}return!0}})(t,e)?n:A.includes(e)||S.get(e)?a:stringStartsWith(e,"--")?o:e in t.style?r:e in t?i:n:i,getCSSValue=(t,e,s)=>{const i=t.style[e];i&&s&&(s[e]=i);const n=i||getComputedStyle(t[b]||t).getPropertyValue(e);return"auto"===n?"0":n},getOriginalAnimatableValue=(t,e,s,r)=>{const u=isUnd(s)?getTweenType(t,e):s;return u===i?t[e]||0:u===n?t.getAttribute(e):u===a?((t,e,s)=>{const i=t.style.transform;let n;if(i){const r=t[v];let a;for(;a=P.exec(i);){const t=a[1],i=a[2].slice(1,-1);r[t]=i,t===e&&(n=i,s&&(s[e]=i))}}return i&&!isUnd(n)?n:stringStartsWith(e,"scale")?"1":stringStartsWith(e,"rotate")||stringStartsWith(e,"skew")?"0deg":"0px"})(t,e,r):u===o?getCSSValue(t,e,r).trimStart():getCSSValue(t,e,r)},getRelativeValue=(t,e,s)=>"-"===s?t-e:"+"===s?t+e:t*e,createDecomposedValueTargetObject=()=>({t:u,n:0,u:null,o:null,d:null,s:null}),decomposeRawValue=(t,e)=>{if(e.t=u,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;const s=+t;if(isNaN(s)){let s=t;"="===s[1]&&(e.o=s[0],s=s.slice(2));const n=!s.includes(" ")&&V.exec(s);if(n)return e.t=l,e.n=+n[1],e.u=n[2],e;if(e.o)return e.n=+s,e;if(isHex(i=s)||isRgb(i)||isHsl(i))return e.t=h,e.d=convertColorStringValuesToRgbaArray(s),e;{const t=s.match(B);return e.t=d,e.d=t?t.map(Number):[],e.s=s.split(B)||[],e}}return e.n=s,e;var i},decomposeTweenValue=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=cloneArray(t._toNumbers),e.s=cloneArray(t._strings),e),ot=createDecomposedValueTargetObject(),ut={_rep:new WeakMap,_add:new Map},getTweenSiblings=(t,e,s="_rep")=>{const i=ut[s];let n=i.get(t);return n||(n={},i.set(t,n)),n[e]?n[e]:n[e]={_head:null,_tail:null}},addTweenSortMethod=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,overrideTween=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=y,t._currentTime=y},composeTween=(t,e)=>{const s=t._composition;if(s===f.replace){const s=t._absoluteStartTime;addChild(e,t,addTweenSortMethod,"_prevRep","_nextRep");const i=t._prevRep;if(i){const e=i.parent,n=i._absoluteStartTime+i._changeDuration;if(t.parent.id!==e.id&&e.iterationCount>1&&n+(e.duration-e.iterationDuration)>s){overrideTween(i);let t=i._prevRep;for(;t&&t.parent.id===e.id;)overrideTween(t),t=t._prevRep}const r=s-t._delay;if(n>r){const t=i._startTime,e=n-(t+i._updateDuration);i._changeDuration=r-e-t,i._currentTime=i._changeDuration,i._isOverlapped=1,i._changeDuration<y&&overrideTween(i)}let a=!0;if(forEachChildren(e,(t=>{t._isOverlapped||(a=!1)})),a){const t=e.parent;if(t){let s=!0;forEachChildren(t,(t=>{t!==e&&forEachChildren(t,(t=>{t._isOverlapped||(s=!1)}))})),s&&t.cancel()}else e.cancel()}}}else if(s===f.blend){const e=getTweenSiblings(t.target,t.property,"_add"),s=(t=>{let e=st.animation;return e||(e={duration:y,computeDeltaTime:noop,_offset:0,_delay:0,_head:null,_tail:null},st.animation=e,st.update=()=>{t.forEach((t=>{for(let e in t){const s=t[e],i=s._head;if(i){const t=i._valueType,e=t===d||t===h?cloneArray(i._fromNumbers):null;let n=i._fromNumber,r=s._tail;for(;r&&r!==i;){if(e)for(let t=0,s=r._numbers.length;t<s;t++)e[t]+=r._numbers[t];else n+=r._number;r=r._prevAdd}i._toNumber=n,i._toNumbers=e}}})),render(e,1,1,0,m)}),e})(ut._add);let i=e._head;i||(i={...t},i._composition=f.replace,i._updateDuration=y,i._startTime=0,i._numbers=cloneArray(t._fromNumbers),i._number=0,i._next=null,i._prev=null,addChild(e,i),addChild(s,i));const n=t._toNumber;if(t._fromNumber=i._fromNumber-n,t._toNumber=0,t._numbers=cloneArray(t._fromNumbers),t._number=0,i._fromNumber=n,t._toNumbers){const e=cloneArray(t._toNumbers);e&&e.forEach(((e,s)=>{t._fromNumbers[s]=i._fromNumbers[s]-e,t._toNumbers[s]=0})),i._fromNumbers=e}addChild(e,t,null,"_prevAdd","_nextAdd")}return t},removeTweenSliblings=t=>{const e=t._composition;if(e!==f.none){const s=t.target,i=t.property,n=ut._rep.get(s)[i];if(removeChild(n,t,"_prevRep","_nextRep"),e===f.blend){const e=ut._add,n=e.get(s);if(!n)return;const r=n[i],a=st.animation;removeChild(r,t,"_prevAdd","_nextAdd");const o=r._head;if(o&&o===r._tail){removeChild(r,o,"_prevAdd","_nextAdd"),removeChild(a,o);let t=!0;for(let e in n)if(n[e]._head){t=!1;break}t&&e.delete(s)}}}return t},resetTimerProperties=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),reviveTimer=t=>t._cancelled?(t._hasChildren?forEachChildren(t,reviveTimer):forEachChildren(t,(t=>{t._composition!==f.none&&composeTween(t,getTweenSiblings(t.target,t.property))})),t._cancelled=0,t):t;let lt=0;class Timer extends Clock{constructor(t={},e=null,s=0){super(0);const{id:i,delay:n,duration:r,reversed:a,alternate:o,loop:u,loopDelay:l,autoplay:h,frameRate:d,playbackRate:c,onComplete:p,onLoop:m,onPause:f,onBegin:g,onBeforeUpdate:_,onUpdate:k}=t;N.current&&N.current.register(this);const v=e?0:rt._elapsedTime,b=e?e.defaults:$.defaults,C=isFnc(n)||isUnd(n)?b.delay:+n,E=isFnc(r)||isUnd(r)?1/0:+r,x=setValue(u,b.loop),S=setValue(l,b.loopDelay),A=!0===x||x===1/0||x<0?1/0:x+1;let w=0;if(e)w=s;else{let t=U();rt.paused&&(rt.requestTick(t),t=rt._elapsedTime),w=t-rt._startTime}this.id=isUnd(i)?++lt:i,this.parent=e,this.duration=clampInfinity((E+S)*A-S)||y,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=g||b.onBegin,this.onBeforeUpdate=_||b.onBeforeUpdate,this.onUpdate=k||b.onUpdate,this.onLoop=m||b.onLoop,this.onPause=f||b.onPause,this.onComplete=p||b.onComplete,this.iterationDuration=E,this.iterationCount=A,this._autoplay=!e&&setValue(h,b.autoplay),this._offset=w,this._delay=C,this._loopDelay=S,this._iterationTime=0,this._currentIteration=0,this._resolve=noop,this._running=!1,this._reversed=+setValue(a,b.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=setValue(o,b.alternate),this._prev=null,this._next=null,this._elapsedTime=v,this._startTime=v,this._lastTime=v,this._fps=setValue(d,b.frameRate),this._speed=setValue(c,b.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(t){t?this.cancel():this.reset(1).play()}get currentTime(){return clamp(round(this._currentTime,$.precision),-this._delay,this.duration)}set currentTime(t){const e=this.paused;this.pause().seek(+t),e||this.resume()}get iterationCurrentTime(){return round(this._iterationTime,$.precision)}set iterationCurrentTime(t){this.currentTime=this.iterationDuration*this._currentIteration+t}get progress(){return clamp(round(this._currentTime/this.duration,10),0,1)}set progress(t){this.currentTime=this.duration*t}get iterationProgress(){return clamp(round(this._iterationTime/this.iterationDuration,10),0,1)}set iterationProgress(t){const e=this.iterationDuration;this.currentTime=e*this._currentIteration+e*t}get currentIteration(){return this._currentIteration}set currentIteration(t){this.currentTime=this.iterationDuration*clamp(+t,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(t){t?this.reverse():this.play()}get speed(){return super.speed}set speed(t){super.speed=t,this.resetTime()}reset(t=0){return reviveTimer(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,tick(this,0,1,t,m),resetTimerProperties(this),this._hasChildren&&forEachChildren(this,resetTimerProperties),this}init(t=0){this.fps=this._fps,this.speed=this._speed,!t&&this._hasChildren&&tick(this,this.duration,1,t,m),this.reset(t);const e=this._autoplay;return!0===e?this.resume():e&&!isUnd(e.linked)&&e.link(this),this}resetTime(){const t=1/(this._speed*rt._speed);return this._startTime=U()-(this._currentTime+this._delay)*t,this}pause(){return this.paused||(this.paused=!0,this.onPause(this)),this}resume(){return this.paused?(this.paused=!1,this.duration<=y&&!this._hasChildren?tick(this,y,0,0,m):(this._running||(addChild(rt,this),rt._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,rt.wake()),this):this}restart(){return this.reset(0).resume()}seek(t,e=0,s=0){reviveTimer(this),this.completed=!1;const i=this.paused;return this.paused=!0,tick(this,t+this._delay,~~e,~~s,p),i?this:this.resume()}alternate(){const t=this._reversed,e=this.iterationCount,s=this.iterationDuration,i=e===1/0?Z(C/s):e;return this._reversed=+(!this._alternate||i%2?!t:t),e===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(s*i-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?forEachChildren(this,(t=>t.cancel()),!0):forEachChildren(this,removeTweenSliblings),this._cancelled=1,this.pause()}stretch(t){const e=this.duration,s=normalizeTime(t);if(e===s)return this;const i=t/e,n=t<=y;return this.duration=n?y:s,this.iterationDuration=n?y:normalizeTime(this.iterationDuration*i),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){tick(this,0,1,0,p);const t=this._autoplay;return t&&t.linked&&t.linked===this&&t.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(t=noop){const e=this.then,onResolve=()=>{this.then=null,t(this),this.then=e,this._resolve=noop};return new Promise((t=>(this._resolve=()=>t(onResolve()),this.completed&&this._resolve(),this)))}}const none=t=>t,calcBezier=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,cubicBezier=(t=.5,e=0,s=.5,i=1)=>t===e&&s===i?none:n=>0===n||1===n?n:calcBezier(((t,e,s)=>{let i,n,r=0,a=1,o=0;do{n=r+(a-r)/2,i=calcBezier(n,e,s)-t,i>0?a=n:r=n}while(X(i)>1e-7&&++o<100);return n})(n,t,s),e,i),steps=(t=10,e)=>{const s=e?K:Z;return e=>s(clamp(e,0,1)*t)*(1/t)},linear=(...t)=>{const e=t.length;if(!e)return none;const s=e-1,i=t[0],n=t[s],r=[0],a=[parseNumber(i)];for(let e=1;e<s;e++){const i=t[e],n=isStr(i)?i.trim().split(" "):[i],o=n[0],u=n[1];r.push(isUnd(u)?e/s:parseNumber(u)/100),a.push(parseNumber(o))}return a.push(parseNumber(n)),r.push(1),function easeLinear(t){for(let e=1,s=r.length;e<s;e++){const s=r[e];if(t<=s){const i=r[e-1],n=a[e-1];return n+(a[e]-n)*(t-i)/(s-i)}}return a[a.length-1]}},irregular=(t=10,e=1)=>{const s=[0],i=t-1;for(let t=1;t<i;t++){const n=s[t-1],r=t/i,a=r*(1-e)+(r+((t+1)/i-r)*Math.random())*e;s.push(clamp(a,n,1))}return s.push(1),linear(...s)},ht=J/2,dt=2*J,easeInPower=(t=1.68)=>e=>H(e,+t),ct={[x]:easeInPower,Quad:easeInPower(2),Cubic:easeInPower(3),Quart:easeInPower(4),Quint:easeInPower(5),Sine:t=>1-W(t*ht),Circ:t=>1-j(1-t*t),Expo:t=>t?H(2,10*t-10):0,Bounce:t=>{let e,s=4;for(;t<((e=H(2,--s))-1)/11;);return 1/H(4,3-s)-7.5625*H((3*e-2)/22-t,2)},Back:(t=1.70158)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{const s=clamp(+t,1,10),i=clamp(+e,y,2),n=i/dt*Q(1/s),r=dt/i;return t=>0===t||1===t?t:-s*H(2,-10*(1-t))*Y((1-t-n)*r)}},pt={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(2*e)/2:1-t(-2*e+2)/2,outIn:t=>e=>e<.5?(1-t(1-2*e))/2:(t(2*e-1)+1)/2},parseEaseString=(t,e,s)=>{if(s[t])return s[t];if(t.indexOf("(")<=-1){const i=pt[t]||t.includes("Back")||t.includes("Elastic")?e[t]():e[t];return i?s[t]=i:none}{const i=t.slice(0,-1).split("("),n=e[i[0]];return n?s[t]=n(...i[1].split(",")):none}},mt=(()=>{const t={linear,irregular,steps,cubicBezier};for(let e in pt)for(let s in ct){const i=ct[s],n=pt[e];t[e+s]=s===x||"Back"===s||"Elastic"===s?(t,e)=>n(i(t,e)):n(i)}return t})(),ft={linear:none},parseEasings=t=>isFnc(t)?t:isStr(t)?parseEaseString(t,mt,ft):none,gt={},sanitizePropertyName=(t,e,s)=>{if(s===a){const e=S.get(t);return e||t}if(s===r||s===n&&isSvg(e)&&t in e.style){const e=gt[t];if(e)return e;{const e=t?toLowerCase(t):t;return gt[t]=e,e}}return t},_t={deg:1,rad:180/J,turn:360},kt={},convertValueUnit=(t,e,i,n=!1)=>{const r=e.u,a=e.n;if(e.t===l&&r===i)return e;const o=a+r+i,u=kt[o];if(isUnd(u)||n){let n;if(r in _t)n=a*_t[r]/_t[i];else{const e=100,o=t.cloneNode(),u=t.parentNode,l=u&&u!==s?u:s.body;l.appendChild(o);const h=o.style;h.width=e+r;const d=o.offsetWidth||e;h.width=e+i;const c=d/(o.offsetWidth||e);l.removeChild(o),n=c*a}e.n=n,kt[o]=n}else e.n=u;return e.t,e.u=i,e},cleanInlineStyles=t=>{if(t._hasChildren)forEachChildren(t,cleanInlineStyles,!0);else{const e=t;e.pause(),forEachChildren(e,(t=>{const s=t.property,i=t.target;if(i[_]){const n=i.style,r=e._inlineStyles[s];if(t._tweenType===a){const e=i[v];if(isUnd(r)||r===x?delete e[s]:e[s]=r,t._renderTransforms)if(Object.keys(e).length){let t=x;for(let s in e)t+=w[s]+e[s]+") ";n.transform=t}else n.removeProperty("transform")}else isUnd(r)||r===x?n.removeProperty(s):n[s]=r;e._tail===t&&e.targets.forEach((t=>{t.getAttribute&&t.getAttribute("style")===x&&t.removeAttribute("style")}))}}))}return t},vt=createDecomposedValueTargetObject(),bt=createDecomposedValueTargetObject(),yt={func:null},Ct=[null],Et=[null,null],xt={to:null};let St,At,wt=0;class JSAnimation extends Timer{constructor(t,e,s,i,n=!1,r=0,o=0){super(e,s,i);const c=registerTargets(t),p=c.length,m=e.keyframes,g=m?mergeObjects(((t,e)=>{const s={};if(z(t)){const e=[].concat(...t.map((t=>Object.keys(t)))).filter(isKey);for(let i=0,n=e.length;i<n;i++){const n=e[i],r=t.map((t=>{const e={};for(let s in t){const i=t[s];isKey(s)?s===n&&(e.to=i):e[s]=i}return e}));s[n]=r}}else{const i=setValue(e.duration,$.defaults.duration),n=Object.keys(t).map((e=>({o:parseFloat(e)/100,p:t[e]}))).sort(((t,e)=>t.o-e.o));n.forEach((t=>{const e=t.o,n=t.p;for(let t in n)if(isKey(t)){let r=s[t];r||(r=s[t]=[]);const a=e*i;let o=r.length,u=r[o-1];const l={to:n[t]};let h=0;for(let t=0;t<o;t++)h+=r[t].duration;1===o&&(l.from=u.to),n.ease&&(l.ease=n.ease),l.duration=a-(o?h:0),r.push(l)}return t}));for(let t in s){const e=s[t];let i;for(let t=0,s=e.length;t<s;t++){const s=e[t],n=s.ease;s.ease=i||void 0,i=n}e[0].duration||e.shift()}}return s})(m,e),e):e,{delay:_,duration:k,ease:v,playbackEase:b,modifier:C,composition:x,onRender:S}=g,A=s?s.defaults:$.defaults,w=setValue(b,A.playbackEase),T=w?parseEasings(w):null,M=!isUnd(v)&&!isUnd(v.ease),D=M?v.ease:setValue(v,T?"linear":A.ease),F=M?v.duration:setValue(k,A.duration),I=setValue(_,A.delay),B=C||A.modifier,V=isUnd(x)&&p>=E?f.none:isUnd(x)?A.composition:x,L={},P=this._offset+(s?s._offset:0);let R=NaN,O=NaN,N=0,q=0;for(let t=0;t<p;t++){const e=c[t],i=r||t,m=o||p;let _=NaN,k=NaN;for(let t in g)if(isKey(t)){const r=getTweenType(e,t),o=sanitizePropertyName(t,e,r);let c=g[t];const p=z(c);if(n&&!p&&(Et[0]=c,Et[1]=c,c=Et),p){const t=c.length,e=!isObj(c[0]);2===t&&e?(xt.to=c,Ct[0]=xt,St=Ct):t>2&&e?(St=[],c.forEach(((t,e)=>{e?1===e?(Et[1]=t,St.push(Et)):St.push(t):Et[0]=t}))):St=c}else Ct[0]=c,St=Ct;let v=null,b=null,C=NaN,E=0,x=0;for(let t=St.length;x<t;x++){const n=St[x];isObj(n)?At=n:(xt.to=n,At=xt),yt.func=null;const a=getFunctionValue(At.to,e,i,m,yt);let c;isObj(a)&&!isUnd(a.to)?(At=a,c=a.to):c=a;const p=getFunctionValue(At.from,e,i,m),g=At.ease,_=!isUnd(g)&&!isUnd(g.ease),k=_?g.ease:g||D,S=_?g.duration:getFunctionValue(setValue(At.duration,t>1?getFunctionValue(F,e,i,m)/t:F),e,i,m),A=getFunctionValue(setValue(At.delay,x?0:I),e,i,m),w=getFunctionValue(setValue(At.composition,V),e,i,m),T=isNum(w)?w:f[w],M=At.modifier||B,R=!isUnd(p),O=!isUnd(c),$=z(c),U=$||R&&O,H=b?E+A:A,j=P+H;q||!R&&!$||(q=1);let Y=b;if(T!==f.none){v||(v=getTweenSiblings(e,o));let t=v._head;for(;t&&!t._isOverridden&&t._absoluteStartTime<=j;)if(Y=t,t=t._nextRep,t&&t._absoluteStartTime>=j)for(;t;)overrideTween(t),t=t._nextRep}if(U?(decomposeRawValue($?getFunctionValue(c[0],e,i,m):p,vt),decomposeRawValue($?getFunctionValue(c[1],e,i,m,yt):c,bt),vt.t===u&&(Y?Y._valueType===l&&(vt.t=l,vt.u=Y._unit):(decomposeRawValue(getOriginalAnimatableValue(e,o,r,L),ot),ot.t===l&&(vt.t=l,vt.u=ot.u)))):(O?decomposeRawValue(c,bt):b?decomposeTweenValue(b,bt):decomposeRawValue(s&&Y&&Y.parent.parent===s?Y._value:getOriginalAnimatableValue(e,o,r,L),bt),R?decomposeRawValue(p,vt):b?decomposeTweenValue(b,vt):decomposeRawValue(s&&Y&&Y.parent.parent===s?Y._value:getOriginalAnimatableValue(e,o,r,L),vt)),vt.o&&(vt.n=getRelativeValue(Y?Y._toNumber:decomposeRawValue(getOriginalAnimatableValue(e,o,r,L),ot).n,vt.n,vt.o)),bt.o&&(bt.n=getRelativeValue(vt.n,bt.n,bt.o)),vt.t!==bt.t)if(vt.t===d||bt.t===d){const t=vt.t===d?vt:bt,e=vt.t===d?bt:vt;e.t=d,e.s=cloneArray(t.s),e.d=t.d.map((()=>e.n))}else if(vt.t===l||bt.t===l){const t=vt.t===l?vt:bt,e=vt.t===l?bt:vt;e.t=l,e.u=t.u}else if(vt.t===h||bt.t===h){const t=vt.t===h?vt:bt,e=vt.t===h?bt:vt;e.t=h,e.s=t.s,e.d=[0,0,0,1]}if(vt.u!==bt.u){let t=bt.u?vt:bt;t=convertValueUnit(e,t,bt.u?bt.u:vt.u,!1)}if(bt.d&&vt.d&&bt.d.length!==vt.d.length){const t=vt.d.length>bt.d.length?vt:bt,e=t===vt?bt:vt;e.d=t.d.map(((t,s)=>isUnd(e.d[s])?0:e.d[s])),e.s=cloneArray(t.s)}const W=round(+S||y,12),X={parent:this,id:wt++,property:o,target:e,_value:null,_func:yt.func,_ease:parseEasings(k),_fromNumbers:cloneArray(vt.d),_toNumbers:cloneArray(bt.d),_strings:cloneArray(bt.s),_fromNumber:vt.n,_toNumber:bt.n,_numbers:cloneArray(vt.d),_number:vt.n,_unit:bt.u,_modifier:M,_currentTime:0,_startTime:H,_delay:+A,_updateDuration:W,_changeDuration:W,_absoluteStartTime:j,_tweenType:r,_valueType:bt.t,_composition:T,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};T!==f.none&&composeTween(X,v),isNaN(C)&&(C=X._startTime),E=round(H+W,12),b=X,N++,addChild(this,X)}(isNaN(O)||C<O)&&(O=C),(isNaN(R)||E>R)&&(R=E),r===a&&(_=N-x,k=N)}if(!isNaN(_)){let t=0;forEachChildren(this,(e=>{t>=_&&t<k&&(e._renderTransforms=1,e._composition===f.blend&&forEachChildren(st.animation,(t=>{t.id===e.id&&(t._renderTransforms=1)}))),t++}))}}p||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),O?(forEachChildren(this,(t=>{t._startTime-t._delay||(t._delay-=O),t._startTime-=O})),R-=O):O=0,R||(R=y,this.iterationCount=0),this.targets=c,this.duration=R===y?y:clampInfinity((R+this._loopDelay)*this.iterationCount-this._loopDelay)||y,this.onRender=S||A.onRender,this._ease=T,this._delay=O,this.iterationDuration=R,this._inlineStyles=L,!this._autoplay&&q&&this.onRender(this)}stretch(t){const e=this.duration;if(e===normalizeTime(t))return this;const s=t/e;return forEachChildren(this,(t=>{t._updateDuration=normalizeTime(t._updateDuration*s),t._changeDuration=normalizeTime(t._changeDuration*s),t._currentTime*=s,t._startTime*=s,t._absoluteStartTime*=s})),super.stretch(t)}refresh(){return forEachChildren(this,(t=>{const e=t._func;if(e){const s=getOriginalAnimatableValue(t.target,t.property,t._tweenType);decomposeRawValue(s,ot),decomposeRawValue(e(),bt),t._fromNumbers=cloneArray(ot.d),t._fromNumber=ot.n,t._toNumbers=cloneArray(bt.d),t._strings=cloneArray(bt.s),t._toNumber=bt.n}})),this}revert(){return super.revert(),cleanInlineStyles(this)}then(t){return super.then(t)}}const animate=(t,e)=>new JSAnimation(t,e,null,0,!1).init(),Tt=["x","y","z"];const Mt={_head:null,_tail:null},removeWAAPIAnimation=(t,e,s)=>{let i=Mt._head;for(;i;){const n=i._next,r=i.$el===t,a=!e||i.property===e,o=!s||i.parent===s;if(r&&a&&o){const t=i.animation;try{t.commitStyles()}catch{}t.cancel(),removeChild(Mt,i);const e=i.parent;e&&(e._completed++,e.animations.length===e._completed&&(e.completed=!0,e.muteCallbacks||(e.paused=!0,e.onComplete(e),e._resolve(e))))}i=n}};const sync=(t=noop)=>new Timer({duration:1*$.timeScale,onComplete:t},null,0).resume();function getTargetValue(t,e,s){const i=registerTargets(t);if(!i.length)return;const[n]=i,r=getTweenType(n,e),a=sanitizePropertyName(e,n,r);let o=getOriginalAnimatableValue(n,a);if(isUnd(s))return o;if(decomposeRawValue(o,ot),ot.t===u||ot.t===l){if(!1===s)return ot.n;{const t=convertValueUnit(n,ot,s,!1);return`${round(t.n,$.precision)}${t.u}`}}}const setTargetValues=(t,e)=>{if(!isUnd(e))return e.duration=y,e.composition=setValue(e.composition,f.none),new JSAnimation(t,e,null,0,!0).resume()},removeTargetsFromAnimation=(t,e,s)=>{let i=!1;return forEachChildren(e,(n=>{const r=n.target;if(t.includes(r)){const t=n.property,o=n._tweenType,u=sanitizePropertyName(s,r,o);(!u||u&&u===t)&&(n.parent._tail===n&&n._tweenType===a&&n._prev&&n._prev._tweenType===a&&(n._prev._renderTransforms=1),removeChild(e,n),removeTweenSliblings(n),i=!0)}}),!0),i},remove=(t,e,s)=>{const i=parseTargets(t),n=e||rt,r=e&&e.controlAnimation&&e;for(let t=0,e=i.length;t<e;t++){const e=i[t];removeWAAPIAnimation(e,s,r)}let a;if(n._hasChildren){let e=0;forEachChildren(n,(r=>{if(!r._hasChildren)if(a=removeTargetsFromAnimation(i,r,s),a&&!r._head)r.cancel(),removeChild(n,r);else{const t=r._offset+r._delay+r.duration;t>e&&(e=t)}r._head?remove(t,r,s):r._hasChildren=!1}),!0),isUnd(n.iterationDuration)||(n.iterationDuration=e)}else a=removeTargetsFromAnimation(i,n,s);return a&&!n._head&&(n._hasChildren=!1,n.cancel&&n.cancel()),i},mapRange=(t,e,s,i,n)=>i+(t-e)/(s-e)*(n-i),lerp=(t,e,s,i)=>{let n=E/$.defaults.frameRate;if(!1!==i){const t=i||rt._hasChildren&&rt;t&&t.deltaTime&&(n=t.deltaTime)}const r=1-Math.exp(-s*n*.1);return s?1===s?e:(1-r)*t+r*e:t},chain=t=>(...e)=>{const s=t(...e);return new Proxy(noop,{apply:(t,e,[i])=>s(i),get:(t,e)=>chain(((...t)=>{const i=Dt[e](...t);return t=>i(s(t))}))})},makeChainable=(t,e=0)=>(...s)=>(s.length<t.length?chain(((t,e=0)=>(...s)=>e?e=>t(...s,e):e=>t(e,...s))(t,e)):t)(...s),Dt={$:registerTargets,get:getTargetValue,set:setTargetValues,remove,cleanInlineStyles,random,randomPick:t=>t[random(0,t.length-1)],shuffle,lerp,sync,keepTime:createRefreshable,clamp:makeChainable(clamp),round:makeChainable(round),snap:makeChainable(snap),wrap:makeChainable(((t,e,s)=>((t-e)%(s-e)+(s-e))%(s-e)+e)),interpolate:makeChainable(interpolate,1),mapRange:makeChainable(mapRange),roundPad:makeChainable(((t,e)=>(+t).toFixed(e))),padStart:makeChainable(((t,e,s)=>`${t}`.padStart(e,s))),padEnd:makeChainable(((t,e,s)=>`${t}`.padEnd(e,s))),degToRad:makeChainable((t=>t*J/180)),radToDeg:makeChainable((t=>180*t/J))},parseTimelinePosition=(t,e)=>{let s=t.iterationDuration;if(s===y&&(s=0),isUnd(e))return s;if(isNum(+e))return+e;const i=e,n=t?t.labels:null,r=!isNil(n),a=((t,e)=>{if(stringStartsWith(e,"<")){const s="<"===e[1],i=t._tail,n=i?i._offset+i._delay:0;return s?n:n+i.duration}})(t,i),o=!isUnd(a),u=R.exec(i);if(u){const t=u[0],e=i.split(t),l=r&&e[0]?n[e[0]]:s,h=o?a:r?l:s,d=+e[1];return getRelativeValue(h,d,t[0])}return o?a:r?isUnd(n[i])?s:n[i]:s};function addTlChild(t,e,s,i,n,r){const a=isNum(t.duration)&&t.duration<=y?s-y:s;tick(e,a,1,1,p);const o=i?new JSAnimation(i,t,e,a,!1,n,r):new Timer(t,e,a);return o.init(1),addChild(e,o),forEachChildren(e,(t=>{const s=t._offset+t._delay+t.duration;s>e.iterationDuration&&(e.iterationDuration=s)})),e.duration=function getTimelineTotalDuration(t){return clampInfinity((t.iterationDuration+t._loopDelay)*t.iterationCount-t._loopDelay)||y}(e),e}class Timeline extends Timer{constructor(t={}){super(t,null,0),this.duration=0,this.labels={};const e=t.defaults,s=$.defaults;this.defaults=e?mergeObjects(e,s):s,this.onRender=t.onRender||s.onRender;const i=setValue(t.playbackEase,s.playbackEase);this._ease=i?parseEasings(i):null,this.iterationDuration=0}add(t,e,s){const i=isObj(e),n=isObj(t);if(i||n){if(this._hasChildren=!0,i){const i=e;if(isFnc(s)){const e=s,n=parseTargets(t),r=this.duration,a=this.iterationDuration,o=i.id;let u=0;const l=n.length;n.forEach((t=>{const s={...i};this.duration=r,this.iterationDuration=a,isUnd(o)||(s.id=o+"-"+u),addTlChild(s,this,e(t,u,l,this),t,u,l),u++}))}else addTlChild(i,this,parseTimelinePosition(this,s),t)}else addTlChild(t,this,parseTimelinePosition(this,e));return this.init(1)}}sync(t,e){if(isUnd(t)||t&&isUnd(t.pause))return this;t.pause();const s=+(t.effect?t.effect.getTiming().duration:t.duration);return this.add(t,{currentTime:[0,s],duration:s,ease:"linear"},e)}set(t,e,s){return isUnd(e)?this:(e.duration=y,e.composition=f.replace,this.add(t,e,s))}call(t,e){return isUnd(t)||t&&!isFnc(t)?this:this.add({duration:0,onComplete:()=>t(this)},e)}label(t,e){return isUnd(t)||t&&!isStr(t)||(this.labels[t]=parseTimelinePosition(this,e)),this}remove(t,e){return remove(t,this,e),this}stretch(t){const e=this.duration;if(e===normalizeTime(t))return this;const s=t/e,i=this.labels;forEachChildren(this,(t=>t.stretch(t.duration*s)));for(let t in i)i[t]*=s;return super.stretch(t)}refresh(){return forEachChildren(this,(t=>{t.refresh&&t.refresh()})),this}revert(){return super.revert(),forEachChildren(this,(t=>t.revert),!0),cleanInlineStyles(this)}then(t){return super.then(t)}}const createTimeline=t=>new Timeline(t).init();class Scope{constructor(t={}){N.current&&N.current.register(this);const i=t.root;let n=s;i&&(n=i.current||i.nativeElement||parseTargets(i)[0]||s);const r=t.defaults,a=$.defaults,o=t.mediaQueries;if(this.defaults=r?mergeObjects(r,a):a,this.root=n,this.constructors=[],this.revertConstructors=[],this.revertibles=[],this.constructorsOnce=[],this.revertConstructorsOnce=[],this.revertiblesOnce=[],this.once=!1,this.onceIndex=0,this.methods={},this.matches={},this.mediaQueryLists={},this.data={},o)for(let t in o){const s=e.matchMedia(o[t]);this.mediaQueryLists[t]=s,s.addEventListener("change",this)}}register(t){(this.once?this.revertiblesOnce:this.revertibles).push(t)}execute(t){let e=N.current,s=N.root,i=$.defaults;N.current=this,N.root=this.root,$.defaults=this.defaults;const n=this.mediaQueryLists;for(let t in n)this.matches[t]=n[t].matches;const r=t(this);return N.current=e,N.root=s,$.defaults=i,r}refresh(){return this.onceIndex=0,this.execute((()=>{let t=this.revertibles.length,e=this.revertConstructors.length;for(;t--;)this.revertibles[t].revert();for(;e--;)this.revertConstructors[e](this);this.revertibles.length=0,this.revertConstructors.length=0,this.constructors.forEach((t=>{const e=t(this);isFnc(e)&&this.revertConstructors.push(e)}))})),this}add(t,e){if(this.once=!1,isFnc(t)){const e=t;this.constructors.push(e),this.execute((()=>{const t=e(this);isFnc(t)&&this.revertConstructors.push(t)}))}else this.methods[t]=(...t)=>this.execute((()=>e(...t)));return this}addOnce(t){if(this.once=!0,isFnc(t)){const e=this.onceIndex++;if(this.constructorsOnce[e])return this;const s=t;this.constructorsOnce[e]=s,this.execute((()=>{const t=s(this);isFnc(t)&&this.revertConstructorsOnce.push(t)}))}return this}keepTime(t){this.once=!0;const e=this.onceIndex++,s=this.constructorsOnce[e];if(isFnc(s))return s(this);const i=createRefreshable(t);let n;return this.constructorsOnce[e]=i,this.execute((()=>{n=i(this)})),n}handleEvent(t){if("change"===t.type)this.refresh()}revert(){const t=this.revertibles,e=this.revertConstructors,s=this.revertiblesOnce,i=this.revertConstructorsOnce,n=this.mediaQueryLists;let r=t.length,a=e.length,o=s.length,u=i.length;for(;r--;)t[r].revert();for(;a--;)e[a](this);for(;o--;)s[o].revert();for(;u--;)i[u](this);for(let t in n)n[t].removeEventListener("change",this);t.length=0,e.length=0,this.constructors.length=0,s.length=0,i.length=0,this.constructorsOnce.length=0,this.onceIndex=0,this.matches={},this.methods={},this.mediaQueryLists={},this.data={}}}const parseScrollObserverFunctionParameter=(t,e)=>t&&isFnc(t)?t(e):t,Ft=new Map;class ScrollContainer{constructor(t){this.element=t,this.useWin=this.element===s.body,this.winWidth=0,this.winHeight=0,this.width=0,this.height=0,this.left=0,this.top=0,this.zIndex=0,this.scrollX=0,this.scrollY=0,this.prevScrollX=0,this.prevScrollY=0,this.scrollWidth=0,this.scrollHeight=0,this.velocity=0,this.backwardX=!1,this.backwardY=!1,this.scrollTicker=new Timer({autoplay:!1,onBegin:()=>this.dataTimer.resume(),onUpdate:()=>{const t=this.backwardX||this.backwardY;forEachChildren(this,(t=>t.handleScroll()),t)},onComplete:()=>this.dataTimer.pause()}).init(),this.dataTimer=new Timer({autoplay:!1,frameRate:30,onUpdate:t=>{const e=t.deltaTime,s=this.prevScrollX,i=this.prevScrollY,n=this.scrollX,r=this.scrollY,a=s-n,o=i-r;this.prevScrollX=n,this.prevScrollY=r,a&&(this.backwardX=s>n),o&&(this.backwardY=i>r),this.velocity=round(e>0?Math.sqrt(a*a+o*o)/e:0,5)}}).init(),this.resizeTicker=new Timer({autoplay:!1,duration:250*$.timeScale,onComplete:()=>{this.updateWindowBounds(),this.refreshScrollObservers(),this.handleScroll()}}).init(),this.wakeTicker=new Timer({autoplay:!1,duration:500*$.timeScale,onBegin:()=>{this.scrollTicker.resume()},onComplete:()=>{this.scrollTicker.pause()}}).init(),this._head=null,this._tail=null,this.updateScrollCoords(),this.updateWindowBounds(),this.updateBounds(),this.refreshScrollObservers(),this.handleScroll(),this.resizeObserver=new ResizeObserver((()=>this.resizeTicker.restart())),this.resizeObserver.observe(this.element),(this.useWin?e:this.element).addEventListener("scroll",this,!1)}updateScrollCoords(){const t=this.useWin,s=this.element;this.scrollX=round(t?e.scrollX:s.scrollLeft,0),this.scrollY=round(t?e.scrollY:s.scrollTop,0)}updateWindowBounds(){this.winWidth=e.innerWidth,this.winHeight=(()=>{const t=document.createElement("div");s.body.appendChild(t),t.style.height="100lvh";const e=t.offsetHeight;return s.body.removeChild(t),e})()}updateBounds(){const t=getComputedStyle(this.element),e=this.element;let s,i;if(this.scrollWidth=e.scrollWidth+parseFloat(t.marginLeft)+parseFloat(t.marginRight),this.scrollHeight=e.scrollHeight+parseFloat(t.marginTop)+parseFloat(t.marginBottom),this.updateWindowBounds(),this.useWin)s=this.winWidth,i=this.winHeight;else{const t=e.getBoundingClientRect();s=t.width,i=t.height,this.top=t.top,this.left=t.left}this.width=s,this.height=i}refreshScrollObservers(){forEachChildren(this,(t=>{t._debug&&t.removeDebug()})),this.updateBounds(),forEachChildren(this,(t=>{t.refresh(),t._debug&&t.debug()}))}refresh(){this.updateWindowBounds(),this.updateBounds(),this.refreshScrollObservers(),this.handleScroll()}handleScroll(){this.updateScrollCoords(),this.wakeTicker.restart()}handleEvent(t){if("scroll"===t.type)this.handleScroll()}revert(){this.scrollTicker.cancel(),this.dataTimer.cancel(),this.resizeTicker.cancel(),this.wakeTicker.cancel(),this.resizeObserver.unobserve(this.element),(this.useWin?e:this.element).removeEventListener("scroll",this),Ft.delete(this.element)}}const convertValueToPx=(t,e,s,i,n)=>{const r="min"===e,a="max"===e,o="top"===e||"left"===e||"start"===e||r?0:"bottom"===e||"right"===e||"end"===e||a?"100%":"center"===e?"50%":e,{n:u,u:l}=decomposeRawValue(o,ot);let h=u;return"%"===l?h=u/100*s:l&&(h=convertValueUnit(t,ot,"px",!0).n),a&&i<0&&(h+=i),r&&n>0&&(h+=n),h},parseBoundValue=(t,e,s,i,n)=>{let r;if(isStr(e)){const a=R.exec(e);if(a){const o=a[0],u=o[0],l=e.split(o),h="min"===l[0],d="max"===l[0],c=convertValueToPx(t,l[0],s,i,n),p=convertValueToPx(t,l[1],s,i,n);if(h){const e=getRelativeValue(convertValueToPx(t,"min",s),p,u);r=e<c?c:e}else if(d){const e=getRelativeValue(convertValueToPx(t,"max",s),p,u);r=e>c?c:e}else r=getRelativeValue(c,p,u)}else r=convertValueToPx(t,e,s,i,n)}else r=e;return round(r,0)},getAnimationDomTarget=t=>{let e;const s=t.targets;for(let t=0,i=s.length;t<i;t++){const i=s[t];if(i[_]){e=i;break}}return e};let It=0;const Bt=["#FF4B4B","#FF971B","#FFC730","#F9F640","#7AFF5A","#18FF74","#17E09B","#3CFFEC","#05DBE9","#33B3F1","#638CF9","#C563FE","#FF4FCF","#F93F8A"];class ScrollObserver{constructor(t={}){N.current&&N.current.register(this);const e=setValue(t.sync,"play pause"),i=e?parseEasings(e):null,n=e&&("linear"===e||e===none),r=e&&!(i===none&&!n),a=e&&(isNum(e)||!0===e||n),o=e&&isStr(e)&&!r&&!a,u=o?e.split(" ").map((t=>()=>{const e=this.linked;return e&&e[t]?e[t]():null})):null,l=o&&u.length>2;this.index=It++,this.id=isUnd(t.id)?this.index:t.id,this.container=(t=>{const e=t&&parseTargets(t)[0]||s.body;let i=Ft.get(e);return i||(i=new ScrollContainer(e),Ft.set(e,i)),i})(t.container),this.target=null,this.linked=null,this.repeat=null,this.horizontal=null,this.enter=null,this.leave=null,this.sync=r||a||!!u,this.syncEase=r?i:null,this.syncSmooth=a?!0===e||n?1:e:null,this.onSyncEnter=u&&!l&&u[0]?u[0]:noop,this.onSyncLeave=u&&!l&&u[1]?u[1]:noop,this.onSyncEnterForward=u&&l&&u[0]?u[0]:noop,this.onSyncLeaveForward=u&&l&&u[1]?u[1]:noop,this.onSyncEnterBackward=u&&l&&u[2]?u[2]:noop,this.onSyncLeaveBackward=u&&l&&u[3]?u[3]:noop,this.onEnter=t.onEnter||noop,this.onLeave=t.onLeave||noop,this.onEnterForward=t.onEnterForward||noop,this.onLeaveForward=t.onLeaveForward||noop,this.onEnterBackward=t.onEnterBackward||noop,this.onLeaveBackward=t.onLeaveBackward||noop,this.onUpdate=t.onUpdate||noop,this.onSyncComplete=t.onSyncComplete||noop,this.reverted=!1,this.completed=!1,this.began=!1,this.isInView=!1,this.forceEnter=!1,this.hasEntered=!1,this.offsets=[],this.offset=0,this.offsetStart=0,this.offsetEnd=0,this.distance=0,this.prevProgress=0,this.thresholds=["start","end","end","start"],this.coords=[0,0,0,0],this.debugStyles=null,this.$debug=null,this._params=t,this._debug=setValue(t.debug,!1),this._next=null,this._prev=null,addChild(this.container,this),sync((()=>{if(!this.reverted){if(!this.target){const e=parseTargets(t.target)[0];this.target=e||s.body,this.refresh()}this._debug&&this.debug()}}))}link(t){if(t&&(t.pause(),this.linked=t,!this._params.target)){let e;isUnd(t.targets)?forEachChildren(t,(t=>{t.targets&&!e&&(e=getAnimationDomTarget(t))})):e=getAnimationDomTarget(t),this.target=e||s.body,this.refresh()}return this}get velocity(){return this.container.velocity}get backward(){return this.horizontal?this.container.backwardX:this.container.backwardY}get scroll(){return this.horizontal?this.container.scrollX:this.container.scrollY}get progress(){const t=(this.scroll-this.offsetStart)/this.distance;return t===1/0||isNaN(t)?0:round(clamp(t,0,1),6)}refresh(){this.reverted=!1;const t=this._params;return this.repeat=setValue(parseScrollObserverFunctionParameter(t.repeat,this),!0),this.horizontal="x"===setValue(parseScrollObserverFunctionParameter(t.axis,this),"y"),this.enter=setValue(parseScrollObserverFunctionParameter(t.enter,this),"end start"),this.leave=setValue(parseScrollObserverFunctionParameter(t.leave,this),"start end"),this.updateBounds(),this.handleScroll(),this}removeDebug(){return this.$debug&&(this.$debug.parentNode.removeChild(this.$debug),this.$debug=null),this.debugStyles&&(this.debugStyles.revert(),this.$debug=null),this}debug(){this.removeDebug();const t=this.container,e=this.horizontal,i=t.element.querySelector(":scope > .animejs-onscroll-debug"),n=s.createElement("div"),r=s.createElement("div"),a=s.createElement("div"),o=Bt[this.index%Bt.length],u=t.useWin,l=u?t.winWidth:t.width,h=u?t.winHeight:t.height,d=t.scrollWidth,c=t.scrollHeight,p=this.container.width>360?320:260,m=e?0:10,f=e?10:0,g=e?24:p/2,_=e?g:15,k=e?60:g,v=e?k:_,b=e?"repeat-x":"repeat-y",gradientOffset=t=>e?"0px "+t+"px":t+"px 2px",lineCSS=t=>`linear-gradient(${e?90:0}deg, ${t} 2px, transparent 1px)`,baseCSS=(t,e,s,i,n)=>`position:${t};left:${e}px;top:${s}px;width:${i}px;height:${n}px;`;n.style.cssText=`${baseCSS("absolute",m,f,e?d:p,e?p:c)}\n      pointer-events: none;\n      z-index: ${this.container.zIndex++};\n      display: flex;\n      flex-direction: ${e?"column":"row"};\n      filter: drop-shadow(0px 1px 0px rgba(0,0,0,.75));\n    `,r.style.cssText=`${baseCSS("sticky",0,0,e?l:g,e?g:h)}`,i||(r.style.cssText+=`background:\n        ${lineCSS("#FFFF")}${gradientOffset(g-10)} / 100px 100px ${b},\n        ${lineCSS("#FFF8")}${gradientOffset(g-10)} / 10px 10px ${b};\n      `),a.style.cssText=`${baseCSS("relative",0,0,e?d:g,e?g:c)}`,i||(a.style.cssText+=`background:\n        ${lineCSS("#FFFF")}${gradientOffset(0)} / ${e?"100px 10px":"10px 100px"} ${b},\n        ${lineCSS("#FFF8")}${gradientOffset(0)} / ${e?"10px 0px":"0px 10px"} ${b};\n      `);const y=[" enter: "," leave: "];this.coords.forEach(((t,i)=>{const n=i>1,u=(n?0:this.offset)+t,m=i%2,f=u<v,g=u>(n?e?l:h:e?d:c)-v,b=(n?m&&!f:!m&&!f)||g,C=s.createElement("div"),E=s.createElement("div"),x=e?b?"right":"left":b?"bottom":"top",S=b?(e?k:_)+(n?e?-1:g?0:-2:e?-1:-2):e?1:0;E.innerHTML=`${this.id}${y[m]}${this.thresholds[i]}`,C.style.cssText=`${baseCSS("absolute",0,0,k,_)}\n        display: flex;\n        flex-direction: ${e?"column":"row"};\n        justify-content: flex-${n?"start":"end"};\n        align-items: flex-${b?"end":"start"};\n        border-${x}: 2px solid ${o};\n      `,E.style.cssText=`\n        overflow: hidden;\n        max-width: ${p/2-10}px;\n        height: ${_};\n        margin-${e?b?"right":"left":b?"bottom":"top"}: -2px;\n        padding: 1px;\n        font-family: ui-monospace, monospace;\n        font-size: 10px;\n        letter-spacing: -.025em;\n        line-height: 9px;\n        font-weight: 600;\n        text-align: ${e&&b||!e&&!n?"right":"left"};\n        white-space: pre;\n        text-overflow: ellipsis;\n        color: ${m?o:"rgba(0,0,0,.75)"};\n        background-color: ${m?"rgba(0,0,0,.65)":o};\n        border: 2px solid ${m?o:"transparent"};\n        border-${e?b?"top-left":"top-right":b?"top-left":"bottom-left"}-radius: 5px;\n        border-${e?b?"bottom-left":"bottom-right":b?"top-right":"bottom-right"}-radius: 5px;\n      `,C.appendChild(E);let A=u-S+(e?1:0);C.style[e?"left":"top"]=`${A}px`,(n?r:a).appendChild(C)})),n.appendChild(r),n.appendChild(a),t.element.appendChild(n),i||n.classList.add("animejs-onscroll-debug"),this.$debug=n;"static"===getTargetValue(t.element,"position")&&(this.debugStyles=setTargetValues(t.element,{position:"relative "}))}updateBounds(){let t;this._debug&&this.removeDebug();const e=this.target,i=this.container,n=this.horizontal,r=this.linked;let a,o=e,u=0,l=0,h=o;r&&(a=r.currentTime,r.seek(0,!0));const d="static"===getTargetValue(i.element,"position")&&setTargetValues(i.element,{position:"relative "});for(;o&&o!==i.element&&o!==s.body;){const e="sticky"===getTargetValue(o,"position")&&setTargetValues(o,{position:"static"});o===h&&(u+=o.offsetLeft||0,l+=o.offsetTop||0,h=o.offsetParent),o=o.parentElement,e&&(t||(t=[]),t.push(e))}d&&d.revert();const c=n?u:l,p=n?e.offsetWidth:e.offsetHeight,m=n?i.width:i.height,f=(n?i.scrollWidth:i.scrollHeight)-m,g=this.enter,_=this.leave;let k="start",v="end",b="end",y="start";if(isStr(g)){const t=g.split(" ");b=t[0],k=t.length>1?t[1]:k}else if(isObj(g)){const t=g;isUnd(t.container)||(b=t.container),isUnd(t.target)||(k=t.target)}else isNum(g)&&(b=g);if(isStr(_)){const t=_.split(" ");y=t[0],v=t.length>1?t[1]:v}else if(isObj(_)){const t=_;isUnd(t.container)||(y=t.container),isUnd(t.target)||(v=t.target)}else isNum(_)&&(y=_);const C=parseBoundValue(e,k,p),E=parseBoundValue(e,v,p),x=C+c-m,S=E+c-f,A=parseBoundValue(e,b,m,x,S),w=parseBoundValue(e,y,m,x,S),T=C+c-A,M=E+c-w,D=M-T;this.offsets[0]=u,this.offsets[1]=l,this.offset=c,this.offsetStart=T,this.offsetEnd=M,this.distance=D<=0?0:D,this.thresholds=[k,v,b,y],this.coords=[C,E,A,w],t&&t.forEach((t=>t.revert())),r&&r.seek(a,!0),this._debug&&this.debug()}handleScroll(){const t=this.linked,e=this.sync,s=this.syncEase,i=this.syncSmooth,n=t&&(s||i),r=this.horizontal,a=this.container,o=this.scroll,u=o<=this.offsetStart,l=o>=this.offsetEnd,h=!u&&!l,d=o===this.offsetStart||o===this.offsetEnd,c=!this.hasEntered&&d,p=this._debug&&this.$debug;let m=!1,f=!1,g=this.progress;if(u&&this.began&&(this.began=!1),g>0&&!this.began&&(this.began=!0),n){const e=t.progress;if(i&&isNum(i)){if(i<1){const t=e<g&&1===g?1e-4:e>g&&!g?-1e-4:0;g=round(lerp(e,g,interpolate(.01,.2,i),!1)+t,6)}}else s&&(g=s(g));m=g!==this.prevProgress,f=1===e,m&&!f&&i&&e&&a.wakeTicker.restart()}if(p){const t=r?a.scrollY:a.scrollX;p.style[r?"top":"left"]=t+10+"px"}(h&&!this.isInView||c&&!this.forceEnter&&!this.hasEntered)&&(h&&(this.isInView=!0),this.forceEnter&&this.hasEntered?h&&(this.forceEnter=!1):(p&&h&&(p.style.zIndex=""+this.container.zIndex++),this.onSyncEnter(this),this.onEnter(this),this.backward?(this.onSyncEnterBackward(this),this.onEnterBackward(this)):(this.onSyncEnterForward(this),this.onEnterForward(this)),this.hasEntered=!0,c&&(this.forceEnter=!0))),(h||!h&&this.isInView)&&(m=!0),m&&(n&&t.seek(t.duration*g),this.onUpdate(this)),!h&&this.isInView&&(this.isInView=!1,this.onSyncLeave(this),this.onLeave(this),this.backward?(this.onSyncLeaveBackward(this),this.onLeaveBackward(this)):(this.onSyncLeaveForward(this),this.onLeaveForward(this)),e&&!i&&(f=!0)),g>=1&&this.began&&!this.completed&&(e&&f||!e)&&(e&&this.onSyncComplete(this),this.completed=!0,(!this.repeat&&!t||!this.repeat&&t&&t.completed)&&this.revert()),g<1&&this.completed&&(this.completed=!1),this.prevProgress=g}revert(){if(this.reverted)return;const t=this.container;return removeChild(t,this),t._head||t.revert(),this._debug&&this.removeDebug(),this.reverted=!0,this}}const onScroll=(t={})=>new ScrollObserver(t),Vt=!isUnd(Intl)&&Intl.Segmenter,Lt=/\{value\}/g,Pt=/\{i\}/g,Rt=/(\s+)/,Ot=/^\s+$/,Nt="line",$t="word",qt="char",Ut="data-line";let zt=null,Ht=null,jt=null;const isSegmentWordLike=t=>t.isWordLike||" "===t.segment||isNum(+t.segment),setAriaHidden=t=>t.setAttribute("aria-hidden","true"),getAllTopLevelElements=(t,e)=>[...t.querySelectorAll(`[data-${e}]:not([data-${e}] [data-${e}])`)],Yt={line:"#00D672",word:"#FF4B4B",char:"#5A87FF"},filterEmptyElements=t=>{if(!t.childElementCount&&!t.textContent.trim()){const e=t.parentElement;t.remove(),e&&filterEmptyElements(e)}},filterLineElements=(t,e,s)=>{const i=t.getAttribute(Ut);(null!==i&&+i!==e||"BR"===t.tagName)&&s.add(t);let n=t.childElementCount;for(;n--;)filterLineElements(t.children[n],e,s);return s},generateTemplate=(t,e={})=>{let s="";const i=isStr(e.class)?` class="${e.class}"`:"",n=setValue(e.clone,!1),r=setValue(e.wrap,!1),a=r?!0===r?"clip":r:!!n&&"clip";if(r&&(s+=`<span${a?` style="overflow:${a};"`:""}>`),s+=`<span${i}${n?' style="position:relative;"':""} data-${t}="{i}">`,n){s+="<span>{value}</span>",s+=`<span inert style="position:absolute;top:${"top"===n?"-100%":"bottom"===n?"100%":"0"};left:${"left"===n?"-100%":"right"===n?"100%":"0"};white-space:nowrap;">{value}</span>`}else s+="{value}";return s+="</span>",r&&(s+="</span>"),s},processHTMLTemplate=(t,e,s,i,n,r,a,o,u)=>{const l=n===Nt,h=n===qt,d=`_${n}_`,c=isFnc(t)?t(s):t,p=l?"block":"inline-block";jt.innerHTML=c.replace(Lt,`<i class="${d}"></i>`).replace(Pt,`${h?u:l?a:o}`);const m=jt.content,f=m.firstElementChild,g=m.querySelector(`[data-${n}]`)||f,_=m.querySelectorAll(`i.${d}`),k=_.length;if(k){f.style.display=p,g.style.display=p,g.setAttribute(Ut,`${a}`),l||(g.setAttribute("data-word",`${o}`),h&&g.setAttribute("data-char",`${u}`));let t=k;for(;t--;){const e=_[t],i=e.parentElement;i.style.display=p,l?i.innerHTML=s.innerHTML:i.replaceChild(s.cloneNode(!0),e)}e.push(g),i.appendChild(m)}else console.warn('The expression "{value}" is missing from the provided template.');return r&&(f.style.outline=`1px dotted ${Yt[n]}`),f};class TextSplitter{constructor(e,i={}){zt||(zt=Vt?new Vt([],{granularity:$t}):{segment:t=>{const e=[],s=t.split(Rt);for(let t=0,i=s.length;t<i;t++){const i=s[t];e.push({segment:i,isWordLike:!Ot.test(i)})}return e}}),Ht||(Ht=Vt?new Vt([],{granularity:"grapheme"}):{segment:t=>[...t].map((t=>({segment:t})))}),!jt&&t&&(jt=s.createElement("template")),N.current&&N.current.register(this);const{words:n,chars:r,lines:a,accessible:o,includeSpaces:u,debug:l}=i,h=(e=z(e)?e[0]:e)&&e.nodeType?e:(getNodeList(e)||[])[0],d=!0===a?{}:a,c=!0===n||isUnd(n)?{}:n,p=!0===r?{}:r;this.debug=setValue(l,!1),this.includeSpaces=setValue(u,!1),this.accessible=setValue(o,!0),this.linesOnly=d&&!c&&!p,this.lineTemplate=isObj(d)?generateTemplate(Nt,d):d,this.wordTemplate=isObj(c)||this.linesOnly?generateTemplate($t,c):c,this.charTemplate=isObj(p)?generateTemplate(qt,p):p,this.$target=h,this.html=h&&h.innerHTML,this.lines=[],this.words=[],this.chars=[],this.effects=[],this.effectsCleanups=[],this.cache=null,this.ready=!1,this.width=0,this.resizeTimeout=null;const handleSplit=()=>this.html&&(d||c||p)&&this.split();this.resizeObserver=new ResizeObserver((()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((()=>{const t=h.offsetWidth;t!==this.width&&(this.width=t,handleSplit())}),150)})),this.lineTemplate&&!this.ready?s.fonts.ready.then(handleSplit):handleSplit(),h?this.resizeObserver.observe(h):console.warn("No Text Splitter target found.")}addEffect(t){if(!isFnc(t))return console.warn("Effect must return a function.");const e=createRefreshable(t);return this.effects.push(e),this.ready&&(this.effectsCleanups[this.effects.length-1]=e(this)),this}revert(){return clearTimeout(this.resizeTimeout),this.lines.length=this.words.length=this.chars.length=0,this.resizeObserver.disconnect(),this.effectsCleanups.forEach((t=>isFnc(t)?t(this):t.revert&&t.revert())),this.$target.innerHTML=this.html,this}splitNode(t){const e=this.wordTemplate,i=this.charTemplate,n=this.includeSpaces,r=this.debug,a=t.nodeType;if(3===a){const a=t.nodeValue;if(a.trim()){const o=[],u=this.words,l=this.chars,h=zt.segment(a),d=s.createDocumentFragment();let c=null;for(const t of h){const e=t.segment,s=isSegmentWordLike(t);if(!c||s&&c&&isSegmentWordLike(c))o.push(e);else{const t=o.length-1;o[t].includes(" ")||e.includes(" ")?o.push(e):o[t]+=e}c=t}for(let t=0,a=o.length;t<a;t++){const a=o[t];if(a.trim()){const h=o[t+1],c=n&&h&&!h.trim(),p=a,m=i?Ht.segment(p):null,f=i?s.createDocumentFragment():s.createTextNode(c?a+" ":a);if(i){const t=[...m];for(let e=0,n=t.length;e<n;e++){const a=t[e],o=e===n-1&&c?a.segment+" ":a.segment,h=s.createTextNode(o);processHTMLTemplate(i,l,h,f,qt,r,-1,u.length,l.length)}}e?processHTMLTemplate(e,u,f,d,$t,r,-1,u.length,l.length):i?d.appendChild(f):d.appendChild(s.createTextNode(a)),c&&t++}else{if(t&&n)continue;d.appendChild(s.createTextNode(a))}}t.parentNode.replaceChild(d,t)}}else if(1===a){const e=[...t.childNodes];for(let t=0,s=e.length;t<s;t++)this.splitNode(e[t])}}split(t=!1){const e=this.$target,i=!!this.cache&&!t,n=this.lineTemplate,r=this.wordTemplate,a=this.charTemplate,o="loading"!==s.fonts.status,u=n&&o;this.ready=!n||o,(u||t)&&this.effectsCleanups.forEach((t=>isFnc(t)&&t(this))),i||(t&&(e.innerHTML=this.html,this.words.length=this.chars.length=0),this.splitNode(e),this.cache=e.innerHTML),u&&(i&&(e.innerHTML=this.cache),this.lines.length=0,r&&(this.words=getAllTopLevelElements(e,$t))),a&&(u||r)&&(this.chars=getAllTopLevelElements(e,qt));const l=this.words.length?this.words:this.chars;let h,d=0;for(let t=0,e=l.length;t<e;t++){const e=l[t],{top:s,height:i}=e.getBoundingClientRect();h&&s-h>.5*i&&d++,e.setAttribute(Ut,`${d}`);const n=e.querySelectorAll(`[${Ut}]`);let r=n.length;for(;r--;)n[r].setAttribute(Ut,`${d}`);h=s}if(u){const t=s.createDocumentFragment(),i=new Set,o=[];for(let t=0;t<d+1;t++){const s=e.cloneNode(!0);filterLineElements(s,t,new Set).forEach((t=>{const e=t.parentElement;e&&i.add(e),t.remove()})),o.push(s)}i.forEach(filterEmptyElements);for(let e=0,s=o.length;e<s;e++)processHTMLTemplate(n,this.lines,o[e],t,Nt,this.debug,e);e.innerHTML="",e.appendChild(t),r&&(this.words=getAllTopLevelElements(e,$t)),a&&(this.chars=getAllTopLevelElements(e,qt))}if(this.linesOnly){const t=this.words;let e=t.length;for(;e--;){const s=t[e];s.replaceWith(s.textContent)}t.length=0}if(this.accessible&&(u||!i)){const t=s.createElement("span");t.style.cssText="position:absolute;overflow:hidden;clip:rect(0 0 0 0);clip-path:inset(50%);width:1px;height:1px;white-space:nowrap;",t.innerHTML=this.html,e.insertBefore(t,e.firstChild),this.lines.forEach(setAriaHidden),this.words.forEach(setAriaHidden),this.chars.forEach(setAriaHidden)}return this.width=e.offsetWidth,(u||t)&&this.effects.forEach(((t,e)=>this.effectsCleanups[e]=t(this))),this}refresh(){this.split(!0)}}const anime_esm_text_split=(t,e)=>new TextSplitter(t,e);var Wt=/Mobi|Android/i.test(navigator.userAgent);function isString(t){return"string"==typeof t||t instanceof String}function isObject(t){var e;return"object"==typeof t&&null!=t&&"Object"===(null==t||null==(e=t.constructor)?void 0:e.name)}function pick(t,e){return Array.isArray(e)?pick(t,((t,s)=>e.includes(s))):Object.entries(t).reduce(((t,s)=>{let[i,n]=s;return e(n,i)&&(t[i]=n),t}),{})}const Xt="NONE",Kt="LEFT",Zt="FORCE_LEFT",Qt="RIGHT",Gt="FORCE_RIGHT";function escapeRegExp(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function objectIncludes(t,e){if(e===t)return!0;const s=Array.isArray(e),i=Array.isArray(t);let n;if(s&&i){if(e.length!=t.length)return!1;for(n=0;n<e.length;n++)if(!objectIncludes(e[n],t[n]))return!1;return!0}if(s!=i)return!1;if(e&&t&&"object"==typeof e&&"object"==typeof t){const s=e instanceof Date,i=t instanceof Date;if(s&&i)return e.getTime()==t.getTime();if(s!=i)return!1;const r=e instanceof RegExp,a=t instanceof RegExp;if(r&&a)return e.toString()==t.toString();if(r!=a)return!1;const o=Object.keys(e);for(n=0;n<o.length;n++)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;for(n=0;n<o.length;n++)if(!objectIncludes(t[o[n]],e[o[n]]))return!1;return!0}return!(!e||!t||"function"!=typeof e||"function"!=typeof t)&&e.toString()===t.toString()}class ActionDetails{constructor(t){for(Object.assign(this,t);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?Xt:this.oldSelection.end!==this.cursorPos&&this.oldSelection.start!==this.cursorPos||this.oldSelection.end!==this.oldSelection.start?Kt:Qt}}function IMask(t,e){return new IMask.InputMask(t,e)}function maskedClass(t){if(null==t)throw new Error("mask property should be defined");return t instanceof RegExp?IMask.MaskedRegExp:isString(t)?IMask.MaskedPattern:t===Date?IMask.MaskedDate:t===Number?IMask.MaskedNumber:Array.isArray(t)||t===Array?IMask.MaskedDynamic:IMask.Masked&&t.prototype instanceof IMask.Masked?t:IMask.Masked&&t instanceof IMask.Masked?t.constructor:t instanceof Function?IMask.MaskedFunction:(console.warn("Mask not found for mask",t),IMask.Masked)}function normalizeOpts(t){if(!t)throw new Error("Options in not defined");if(IMask.Masked){if(t.prototype instanceof IMask.Masked)return{mask:t};const{mask:e,...s}=t instanceof IMask.Masked?{mask:t}:isObject(t)&&t.mask instanceof IMask.Masked?t:{};if(e){const t=e.mask;return{...pick(e,((t,e)=>!e.startsWith("_"))),mask:e.constructor,_mask:t,...s}}}return isObject(t)?{...t}:{mask:t}}function createMask(t){if(IMask.Masked&&t instanceof IMask.Masked)return t;const e=normalizeOpts(t),s=maskedClass(e.mask);if(!s)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===s&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new s(e)}IMask.createMask=createMask;class MaskElement{get selectionStart(){let t;try{t=this._unsafeSelectionStart}catch{}return null!=t?t:this.value.length}get selectionEnd(){let t;try{t=this._unsafeSelectionEnd}catch{}return null!=t?t:this.value.length}select(t,e){if(null!=t&&null!=e&&(t!==this.selectionStart||e!==this.selectionEnd))try{this._unsafeSelect(t,e)}catch{}}get isActive(){return!1}}IMask.MaskElement=MaskElement;class HTMLMaskElement extends MaskElement{constructor(t){super(),this.input=t,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var t,e,s;return null!=(t=null==(e=(s=this.input).getRootNode)?void 0:e.call(s))?t:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(t){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",t.drop),this.input.addEventListener("click",t.click),this.input.addEventListener("focus",t.focus),this.input.addEventListener("blur",t.commit),this._handlers=t}_onKeydown(t){return this._handlers.redo&&(90===t.keyCode&&t.shiftKey&&(t.metaKey||t.ctrlKey)||89===t.keyCode&&t.ctrlKey)?(t.preventDefault(),this._handlers.redo(t)):this._handlers.undo&&90===t.keyCode&&(t.metaKey||t.ctrlKey)?(t.preventDefault(),this._handlers.undo(t)):void(t.isComposing||this._handlers.selectionChange(t))}_onBeforeinput(t){return"historyUndo"===t.inputType&&this._handlers.undo?(t.preventDefault(),this._handlers.undo(t)):"historyRedo"===t.inputType&&this._handlers.redo?(t.preventDefault(),this._handlers.redo(t)):void 0}_onCompositionEnd(t){this._handlers.input(t)}_onInput(t){t.isComposing||this._handlers.input(t)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}IMask.HTMLMaskElement=HTMLMaskElement;class HTMLInputMaskElement extends HTMLMaskElement{constructor(t){super(t),this.input=t}get _unsafeSelectionStart(){return null!=this.input.selectionStart?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(t,e){this.input.setSelectionRange(t,e)}get value(){return this.input.value}set value(t){this.input.value=t}}IMask.HTMLMaskElement=HTMLMaskElement;class HTMLContenteditableMaskElement extends HTMLMaskElement{get _unsafeSelectionStart(){const t=this.rootElement,e=t.getSelection&&t.getSelection(),s=e&&e.anchorOffset,i=e&&e.focusOffset;return null==i||null==s||s<i?s:i}get _unsafeSelectionEnd(){const t=this.rootElement,e=t.getSelection&&t.getSelection(),s=e&&e.anchorOffset,i=e&&e.focusOffset;return null==i||null==s||s>i?s:i}_unsafeSelect(t,e){if(!this.rootElement.createRange)return;const s=this.rootElement.createRange();s.setStart(this.input.firstChild||this.input,t),s.setEnd(this.input.lastChild||this.input,e);const i=this.rootElement,n=i.getSelection&&i.getSelection();n&&(n.removeAllRanges(),n.addRange(s))}get value(){return this.input.textContent||""}set value(t){this.input.textContent=t}}IMask.HTMLContenteditableMaskElement=HTMLContenteditableMaskElement;class InputHistory{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return 0===this.states.length}push(t){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(t),this.states.length>InputHistory.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(t){return this.currentIndex=Math.min(Math.max(this.currentIndex+t,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}InputHistory.MAX_LENGTH=100;IMask.InputMask=class InputMask{constructor(t,e){this.el=t instanceof MaskElement?t:t.isContentEditable&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName?new HTMLContenteditableMaskElement(t):new HTMLInputMaskElement(t),this.masked=createMask(e),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new InputHistory,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(t){var e;return null==t||(null==(e=this.masked)?void 0:e.maskEquals(t))}get mask(){return this.masked.mask}set mask(t){if(this.maskEquals(t))return;if(!(t instanceof IMask.Masked)&&this.masked.constructor===maskedClass(t))return void this.masked.updateOptions({mask:t});const e=t instanceof IMask.Masked?t:createMask({mask:t});e.unmaskedValue=this.masked.unmaskedValue,this.masked=e}get value(){return this._value}set value(t){this.value!==t&&(this.masked.value=t,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(t){this.unmaskedValue!==t&&(this.masked.unmaskedValue=t,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(t){this.rawInputValue!==t&&(this.masked.rawInputValue=t,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(t){this.masked.typedValueEquals(t)||(this.masked.typedValue=t,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(t,e){const s=this._listeners[t];s&&s.forEach((t=>t(e)))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(t){this.el&&this.el.isActive&&(this.el.select(t,t),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(t){const e=this.masked.unmaskedValue,s=this.masked.value,i=this.masked.rawInputValue,n=this.displayValue,r=this.unmaskedValue!==e||this.value!==s||this._rawInputValue!==i;this._unmaskedValue=e,this._value=s,this._rawInputValue=i,this.el.value!==n&&(this.el.value=n),"auto"===t?this.alignCursor():null!=t&&(this.cursorPos=t),r&&this._fireChangeEvents(),this._historyChanging||!r&&!this.history.isEmpty||this.history.push({unmaskedValue:e,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(t){const{mask:e,...s}=t,i=!this.maskEquals(e),n=this.masked.optionsIsChanged(s);i&&(this.mask=e),n&&this.masked.updateOptions(s),(i||n)&&this.updateControl()}updateCursor(t){null!=t&&(this.cursorPos=t,this._delayUpdateCursor(t))}_delayUpdateCursor(t){this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout((()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())}),10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,Kt))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this}off(t,e){if(!this._listeners[t])return this;if(!e)return delete this._listeners[t],this;const s=this._listeners[t].indexOf(e);return s>=0&&this._listeners[t].splice(s,1),this}_onInput(t){this._inputEvent=t,this._abortUpdateCursor();const e=new ActionDetails({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),s=this.masked.rawInputValue,i=this.masked.splice(e.startChangePos,e.removed.length,e.inserted,e.removeDirection,{input:!0,raw:!0}).offset,n=s===this.masked.rawInputValue?e.removeDirection:Xt;let r=this.masked.nearestInputPos(e.startChangePos+i,n);n!==Xt&&(r=this.masked.nearestInputPos(r,Xt)),this.updateControl(r),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(t){t.preventDefault(),t.stopPropagation()}_onFocus(t){this.alignCursorFriendly()}_onClick(t){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(t){t&&(this._historyChanging=!0,this.unmaskedValue=t.unmaskedValue,this.el.select(t.selection.start,t.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};class ChangeDetails{static normalize(t){return Array.isArray(t)?t:[t,new ChangeDetails]}constructor(t){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},t)}aggregate(t){return this.inserted+=t.inserted,this.rawInserted+=t.rawInserted,this.tailShift+=t.tailShift,this.skip=this.skip||t.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return Boolean(this.rawInserted)||this.skip}equals(t){return this.inserted===t.inserted&&this.tailShift===t.tailShift&&this.rawInserted===t.rawInserted&&this.skip===t.skip}}IMask.ChangeDetails=ChangeDetails;class ContinuousTailDetails{constructor(t,e,s){void 0===t&&(t=""),void 0===e&&(e=0),this.value=t,this.from=e,this.stop=s}toString(){return this.value}extend(t){this.value+=String(t)}appendTo(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(t){Object.assign(this,t)}unshift(t){if(!this.value.length||null!=t&&this.from>=t)return"";const e=this.value[0];return this.value=this.value.slice(1),e}shift(){if(!this.value.length)return"";const t=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),t}}class Masked{constructor(t){this._value="",this._update({...Masked.DEFAULTS,...t}),this._initialized=!0}updateOptions(t){this.optionsIsChanged(t)&&this.withValueRefresh(this._update.bind(this,t))}_update(t){Object.assign(this,t)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value}reset(){this._value=""}get value(){return this._value}set value(t){this.resolve(t,{input:!0})}resolve(t,e){void 0===e&&(e={input:!0}),this.reset(),this.append(t,e,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(t){this.resolve(t,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(t){this.format?this.value=this.format(t,this):this.unmaskedValue=String(t)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(t){this.resolve(t,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(t,e){return t}totalInputPositions(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),Math.min(this.displayValue.length,e-t)}extractInput(t,e,s){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),this.displayValue.slice(t,e)}extractTail(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),new ContinuousTailDetails(this.extractInput(t,e),t)}appendTail(t){return isString(t)&&(t=new ContinuousTailDetails(String(t))),t.appendTo(this)}_appendCharRaw(t,e){return t?(this._value+=t,new ChangeDetails({inserted:t,rawInserted:t})):new ChangeDetails}_appendChar(t,e,s){void 0===e&&(e={});const i=this.state;let n;if([t,n]=this.doPrepareChar(t,e),t&&(n=n.aggregate(this._appendCharRaw(t,e)),!n.rawInserted&&"pad"===this.autofix)){const s=this.state;this.state=i;let r=this.pad(e);const a=this._appendCharRaw(t,e);r=r.aggregate(a),a.rawInserted||r.equals(n)?n=r:this.state=s}if(n.inserted){let t,r=!1!==this.doValidate(e);if(r&&null!=s){const e=this.state;if(!0===this.overwrite){t=s.state;for(let t=0;t<n.rawInserted.length;++t)s.unshift(this.displayValue.length-n.tailShift)}let i=this.appendTail(s);if(r=i.rawInserted.length===s.toString().length,!(r&&i.inserted||"shift"!==this.overwrite)){this.state=e,t=s.state;for(let t=0;t<n.rawInserted.length;++t)s.shift();i=this.appendTail(s),r=i.rawInserted.length===s.toString().length}r&&i.inserted&&(this.state=e)}r||(n=new ChangeDetails,this.state=i,s&&t&&(s.state=t))}return n}_appendPlaceholder(){return new ChangeDetails}_appendEager(){return new ChangeDetails}append(t,e,s){if(!isString(t))throw new Error("value should be string");const i=isString(s)?new ContinuousTailDetails(String(s)):s;let n;null!=e&&e.tail&&(e._beforeTailState=this.state),[t,n]=this.doPrepare(t,e);for(let s=0;s<t.length;++s){const r=this._appendChar(t[s],e,i);if(!r.rawInserted&&!this.doSkipInvalid(t[s],e,i))break;n.aggregate(r)}return(!0===this.eager||"append"===this.eager)&&null!=e&&e.input&&t&&n.aggregate(this._appendEager()),null!=i&&(n.tailShift+=this.appendTail(i).tailShift),n}remove(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),this._value=this.displayValue.slice(0,t)+this.displayValue.slice(e),new ChangeDetails}withValueRefresh(t){if(this._refreshing||!this._initialized)return t();this._refreshing=!0;const e=this.rawInputValue,s=this.value,i=t();return this.rawInputValue=e,this.value&&this.value!==s&&0===s.indexOf(this.value)&&(this.append(s.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,i}runIsolated(t){if(this._isolated||!this._initialized)return t(this);this._isolated=!0;const e=this.state,s=t(this);return this.state=e,delete this._isolated,s}doSkipInvalid(t,e,s){return Boolean(this.skipInvalid)}doPrepare(t,e){return void 0===e&&(e={}),ChangeDetails.normalize(this.prepare?this.prepare(t,this,e):t)}doPrepareChar(t,e){return void 0===e&&(e={}),ChangeDetails.normalize(this.prepareChar?this.prepareChar(t,this,e):t)}doValidate(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}doCommit(){this.commit&&this.commit(this.value,this)}splice(t,e,s,i,n){void 0===s&&(s=""),void 0===i&&(i=Xt),void 0===n&&(n={input:!0});const r=t+e,a=this.extractTail(r),o=!0===this.eager||"remove"===this.eager;let u;o&&(i=function forceDirection(t){switch(t){case Kt:return Zt;case Qt:return Gt;default:return t}}(i),u=this.extractInput(0,r,{raw:!0}));let l=t;const h=new ChangeDetails;if(i!==Xt&&(l=this.nearestInputPos(t,e>1&&0!==t&&!o?Xt:i),h.tailShift=l-t),h.aggregate(this.remove(l)),o&&i!==Xt&&u===this.rawInputValue)if(i===Zt){let t;for(;u===this.rawInputValue&&(t=this.displayValue.length);)h.aggregate(new ChangeDetails({tailShift:-1})).aggregate(this.remove(t-1))}else i===Gt&&a.unshift();return h.aggregate(this.append(s,n,a))}maskEquals(t){return this.mask===t}optionsIsChanged(t){return!objectIncludes(this,t)}typedValueEquals(t){const e=this.typedValue;return t===e||Masked.EMPTY_VALUES.includes(t)&&Masked.EMPTY_VALUES.includes(e)||!!this.format&&this.format(t,this)===this.format(this.typedValue,this)}pad(t){return new ChangeDetails}}Masked.DEFAULTS={skipInvalid:!0},Masked.EMPTY_VALUES=[void 0,null,""],IMask.Masked=Masked;class ChunksTailDetails{constructor(t,e){void 0===t&&(t=[]),void 0===e&&(e=0),this.chunks=t,this.from=e}toString(){return this.chunks.map(String).join("")}extend(t){if(!String(t))return;t=isString(t)?new ContinuousTailDetails(String(t)):t;const e=this.chunks[this.chunks.length-1],s=e&&(e.stop===t.stop||null==t.stop)&&t.from===e.from+e.toString().length;if(t instanceof ContinuousTailDetails)s?e.extend(t.toString()):this.chunks.push(t);else if(t instanceof ChunksTailDetails){if(null==t.stop){let e;for(;t.chunks.length&&null==t.chunks[0].stop;)e=t.chunks.shift(),e.from+=t.from,this.extend(e)}t.toString()&&(t.stop=t.blockIndex,this.chunks.push(t))}}appendTo(t){if(!(t instanceof IMask.MaskedPattern)){return new ContinuousTailDetails(this.toString()).appendTo(t)}const e=new ChangeDetails;for(let s=0;s<this.chunks.length;++s){const i=this.chunks[s],n=t._mapPosToBlock(t.displayValue.length),r=i.stop;let a;if(null!=r&&(!n||n.index<=r)&&((i instanceof ChunksTailDetails||t._stops.indexOf(r)>=0)&&e.aggregate(t._appendPlaceholder(r)),a=i instanceof ChunksTailDetails&&t._blocks[r]),a){const s=a.appendTail(i);e.aggregate(s);const n=i.toString().slice(s.rawInserted.length);n&&e.aggregate(t.append(n,{tail:!0}))}else e.aggregate(t.append(i.toString(),{tail:!0}))}return e}get state(){return{chunks:this.chunks.map((t=>t.state)),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(t){const{chunks:e,...s}=t;Object.assign(this,s),this.chunks=e.map((t=>{const e="chunks"in t?new ChunksTailDetails:new ContinuousTailDetails;return e.state=t,e}))}unshift(t){if(!this.chunks.length||null!=t&&this.from>=t)return"";const e=null!=t?t-this.from:t;let s=0;for(;s<this.chunks.length;){const t=this.chunks[s],i=t.unshift(e);if(t.toString()){if(!i)break;++s}else this.chunks.splice(s,1);if(i)return i}return""}shift(){if(!this.chunks.length)return"";let t=this.chunks.length-1;for(;0<=t;){const e=this.chunks[t],s=e.shift();if(e.toString()){if(!s)break;--t}else this.chunks.splice(t,1);if(s)return s}return""}}class PatternCursor{constructor(t,e){this.masked=t,this._log=[];const{offset:s,index:i}=t._mapPosToBlock(e)||(e<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=s,this.index=i,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(t){Object.assign(this,t)}pushState(){this._log.push(this.state)}popState(){const t=this._log.pop();return t&&(this.state=t),t}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(t){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=(null==(e=this.block)?void 0:e.displayValue.length)||0){var e;if(t())return this.ok=!0}return this.ok=!1}_pushRight(t){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(t())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft((()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,Zt),0!==this.offset||void 0}))}pushLeftBeforeInput(){return this._pushLeft((()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Kt),!0}))}pushLeftBeforeRequired(){return this._pushLeft((()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Kt),!0}))}pushRightBeforeFilled(){return this._pushRight((()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,Gt),this.offset!==this.block.value.length||void 0}))}pushRightBeforeInput(){return this._pushRight((()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Xt),!0}))}pushRightBeforeRequired(){return this._pushRight((()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Xt),!0}))}}class PatternFixedDefinition{constructor(t){Object.assign(this,t),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(t,e){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),this._value=this._value.slice(0,t)+this._value.slice(e),this._value||(this._isRawInput=!1),new ChangeDetails}nearestInputPos(t,e){void 0===e&&(e=Xt);const s=this._value.length;switch(e){case Kt:case Zt:return 0;default:return s}}totalInputPositions(t,e){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),this._isRawInput?e-t:0}extractInput(t,e,s){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),void 0===s&&(s={}),s.raw&&this._isRawInput&&this._value.slice(t,e)||""}get isComplete(){return!0}get isFilled(){return Boolean(this._value)}_appendChar(t,e){if(void 0===e&&(e={}),this.isFilled)return new ChangeDetails;const s=!0===this.eager||"append"===this.eager,i=this.char===t&&(this.isUnmasking||e.input||e.raw)&&(!e.raw||!s)&&!e.tail,n=new ChangeDetails({inserted:this.char,rawInserted:i?this.char:""});return this._value=this.char,this._isRawInput=i&&(e.raw||e.input),n}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const t=new ChangeDetails;return this.isFilled||(this._value=t.inserted=this.char),t}extractTail(){return new ContinuousTailDetails("")}appendTail(t){return isString(t)&&(t=new ContinuousTailDetails(String(t))),t.appendTo(this)}append(t,e,s){const i=this._appendChar(t[0],e);return null!=s&&(i.tailShift+=this.appendTail(s).tailShift),i}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value,this._isRawInput=Boolean(t._rawInputValue)}pad(t){return this._appendPlaceholder()}}class PatternInputDefinition{constructor(t){const{parent:e,isOptional:s,placeholderChar:i,displayChar:n,lazy:r,eager:a,...o}=t;this.masked=createMask(o),Object.assign(this,{parent:e,isOptional:s,placeholderChar:i,displayChar:n,lazy:r,eager:a})}reset(){this.isFilled=!1,this.masked.reset()}remove(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.value.length),0===t&&e>=1?(this.isFilled=!1,this.masked.remove(t,e)):new ChangeDetails}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return Boolean(this.masked.value)||this.isOptional}_appendChar(t,e){if(void 0===e&&(e={}),this.isFilled)return new ChangeDetails;const s=this.masked.state;let i=this.masked._appendChar(t,this.currentMaskFlags(e));return i.inserted&&!1===this.doValidate(e)&&(i=new ChangeDetails,this.masked.state=s),i.inserted||this.isOptional||this.lazy||e.input||(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this.isFilled=Boolean(i.inserted),i}append(t,e,s){return this.masked.append(t,this.currentMaskFlags(e),s)}_appendPlaceholder(){return this.isFilled||this.isOptional?new ChangeDetails:(this.isFilled=!0,new ChangeDetails({inserted:this.placeholderChar}))}_appendEager(){return new ChangeDetails}extractTail(t,e){return this.masked.extractTail(t,e)}appendTail(t){return this.masked.appendTail(t)}extractInput(t,e,s){return void 0===t&&(t=0),void 0===e&&(e=this.value.length),this.masked.extractInput(t,e,s)}nearestInputPos(t,e){void 0===e&&(e=Xt);const s=this.value.length,i=Math.min(Math.max(t,0),s);switch(e){case Kt:case Zt:return this.isComplete?i:0;case Qt:case Gt:return this.isComplete?i:s;default:return i}}totalInputPositions(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.value.length),this.value.slice(t,e).length}doValidate(t){return this.masked.doValidate(this.currentMaskFlags(t))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(t)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(t){this.masked.state=t.masked,this.isFilled=t.isFilled}currentMaskFlags(t){var e;return{...t,_beforeTailState:(null==t||null==(e=t._beforeTailState)?void 0:e.masked)||(null==t?void 0:t._beforeTailState)}}pad(t){return new ChangeDetails}}PatternInputDefinition.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};IMask.MaskedRegExp=class MaskedRegExp extends Masked{updateOptions(t){super.updateOptions(t)}_update(t){const e=t.mask;e&&(t.validate=t=>t.search(e)>=0),super._update(t)}};class MaskedPattern extends Masked{constructor(t){super({...MaskedPattern.DEFAULTS,...t,definitions:Object.assign({},PatternInputDefinition.DEFAULT_DEFINITIONS,null==t?void 0:t.definitions)})}updateOptions(t){super.updateOptions(t)}_update(t){t.definitions=Object.assign({},this.definitions,t.definitions),super._update(t),this._rebuildMask()}_rebuildMask(){const t=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const e=this.mask;if(!e||!t)return;let s=!1,i=!1;for(let n=0;n<e.length;++n){if(this.blocks){const t=e.slice(n),s=Object.keys(this.blocks).filter((e=>0===t.indexOf(e)));s.sort(((t,e)=>e.length-t.length));const i=s[0];if(i){const{expose:t,repeat:e,...s}=normalizeOpts(this.blocks[i]),r={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...s,repeat:e,parent:this},a=null!=e?new IMask.RepeatBlock(r):createMask(r);a&&(this._blocks.push(a),t&&(this.exposeBlock=a),this._maskedBlocks[i]||(this._maskedBlocks[i]=[]),this._maskedBlocks[i].push(this._blocks.length-1)),n+=i.length-1;continue}}let r=e[n],a=r in t;if(r===MaskedPattern.STOP_CHAR){this._stops.push(this._blocks.length);continue}if("{"===r||"}"===r){s=!s;continue}if("["===r||"]"===r){i=!i;continue}if(r===MaskedPattern.ESCAPE_CHAR){if(++n,r=e[n],!r)break;a=!1}const o=a?new PatternInputDefinition({isOptional:i,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...normalizeOpts(t[r]),parent:this}):new PatternFixedDefinition({char:r,eager:this.eager,isUnmasking:s});this._blocks.push(o)}}get state(){return{...super.state,_blocks:this._blocks.map((t=>t.state))}}set state(t){if(!t)return void this.reset();const{_blocks:e,...s}=t;this._blocks.forEach(((t,s)=>t.state=e[s])),super.state=s}reset(){super.reset(),this._blocks.forEach((t=>t.reset()))}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every((t=>t.isComplete))}get isFilled(){return this._blocks.every((t=>t.isFilled))}get isFixed(){return this._blocks.every((t=>t.isFixed))}get isOptional(){return this._blocks.every((t=>t.isOptional))}doCommit(){this._blocks.forEach((t=>t.doCommit())),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce(((t,e)=>t+e.unmaskedValue),"")}set unmaskedValue(t){if(this.exposeBlock){const e=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=t,this.appendTail(e),this.doCommit()}else super.unmaskedValue=t}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce(((t,e)=>t+e.value),"")}set value(t){if(this.exposeBlock){const e=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=t,this.appendTail(e),this.doCommit()}else super.value=t}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(t){if(this.exposeBlock){const e=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=t,this.appendTail(e),this.doCommit()}else super.typedValue=t}get displayValue(){return this._blocks.reduce(((t,e)=>t+e.displayValue),"")}appendTail(t){return super.appendTail(t).aggregate(this._appendPlaceholder())}_appendEager(){var t;const e=new ChangeDetails;let s=null==(t=this._mapPosToBlock(this.displayValue.length))?void 0:t.index;if(null==s)return e;this._blocks[s].isFilled&&++s;for(let t=s;t<this._blocks.length;++t){const s=this._blocks[t]._appendEager();if(!s.inserted)break;e.aggregate(s)}return e}_appendCharRaw(t,e){void 0===e&&(e={});const s=this._mapPosToBlock(this.displayValue.length),i=new ChangeDetails;if(!s)return i;for(let r,a=s.index;r=this._blocks[a];++a){var n;const s=r._appendChar(t,{...e,_beforeTailState:null==(n=e._beforeTailState)||null==(n=n._blocks)?void 0:n[a]});if(i.aggregate(s),s.consumed)break}return i}extractTail(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);const s=new ChunksTailDetails;return t===e||this._forEachBlocksInRange(t,e,((t,e,i,n)=>{const r=t.extractTail(i,n);r.stop=this._findStopBefore(e),r.from=this._blockStartPos(e),r instanceof ChunksTailDetails&&(r.blockIndex=e),s.extend(r)})),s}extractInput(t,e,s){if(void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),void 0===s&&(s={}),t===e)return"";let i="";return this._forEachBlocksInRange(t,e,((t,e,n,r)=>{i+=t.extractInput(n,r,s)})),i}_findStopBefore(t){let e;for(let s=0;s<this._stops.length;++s){const i=this._stops[s];if(!(i<=t))break;e=i}return e}_appendPlaceholder(t){const e=new ChangeDetails;if(this.lazy&&null==t)return e;const s=this._mapPosToBlock(this.displayValue.length);if(!s)return e;const i=s.index,n=null!=t?t:this._blocks.length;return this._blocks.slice(i,n).forEach((s=>{var i;s.lazy&&null==t||e.aggregate(s._appendPlaceholder(null==(i=s._blocks)?void 0:i.length))})),e}_mapPosToBlock(t){let e="";for(let s=0;s<this._blocks.length;++s){const i=this._blocks[s],n=e.length;if(e+=i.displayValue,t<=e.length)return{index:s,offset:t-n}}}_blockStartPos(t){return this._blocks.slice(0,t).reduce(((t,e)=>t+e.displayValue.length),0)}_forEachBlocksInRange(t,e,s){void 0===e&&(e=this.displayValue.length);const i=this._mapPosToBlock(t);if(i){const t=this._mapPosToBlock(e),n=t&&i.index===t.index,r=i.offset,a=t&&n?t.offset:this._blocks[i.index].displayValue.length;if(s(this._blocks[i.index],i.index,r,a),t&&!n){for(let e=i.index+1;e<t.index;++e)s(this._blocks[e],e,0,this._blocks[e].displayValue.length);s(this._blocks[t.index],t.index,0,t.offset)}}}remove(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);const s=super.remove(t,e);return this._forEachBlocksInRange(t,e,((t,e,i,n)=>{s.aggregate(t.remove(i,n))})),s}nearestInputPos(t,e){if(void 0===e&&(e=Xt),!this._blocks.length)return 0;const s=new PatternCursor(this,t);if(e===Xt)return s.pushRightBeforeInput()?s.pos:(s.popState(),s.pushLeftBeforeInput()?s.pos:this.displayValue.length);if(e===Kt||e===Zt){if(e===Kt){if(s.pushRightBeforeFilled(),s.ok&&s.pos===t)return t;s.popState()}if(s.pushLeftBeforeInput(),s.pushLeftBeforeRequired(),s.pushLeftBeforeFilled(),e===Kt){if(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.ok&&s.pos<=t)return s.pos;if(s.popState(),s.ok&&s.pos<=t)return s.pos;s.popState()}return s.ok?s.pos:e===Zt?0:(s.popState(),s.ok?s.pos:(s.popState(),s.ok?s.pos:0))}return e===Qt||e===Gt?(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.pushRightBeforeFilled()?s.pos:e===Gt?this.displayValue.length:(s.popState(),s.ok?s.pos:(s.popState(),s.ok?s.pos:this.nearestInputPos(t,Kt)))):t}totalInputPositions(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);let s=0;return this._forEachBlocksInRange(t,e,((t,e,i,n)=>{s+=t.totalInputPositions(i,n)})),s}maskedBlock(t){return this.maskedBlocks(t)[0]}maskedBlocks(t){const e=this._maskedBlocks[t];return e?e.map((t=>this._blocks[t])):[]}pad(t){const e=new ChangeDetails;return this._forEachBlocksInRange(0,this.displayValue.length,(s=>e.aggregate(s.pad(t)))),e}}MaskedPattern.DEFAULTS={...Masked.DEFAULTS,lazy:!0,placeholderChar:"_"},MaskedPattern.STOP_CHAR="`",MaskedPattern.ESCAPE_CHAR="\\",MaskedPattern.InputDefinition=PatternInputDefinition,MaskedPattern.FixedDefinition=PatternFixedDefinition,IMask.MaskedPattern=MaskedPattern;class MaskedRange extends MaskedPattern{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(t){super(t)}updateOptions(t){super.updateOptions(t)}_update(t){const{to:e=this.to||0,from:s=this.from||0,maxLength:i=this.maxLength||0,autofix:n=this.autofix,...r}=t;this.to=e,this.from=s,this.maxLength=Math.max(String(e).length,i),this.autofix=n;const a=String(this.from).padStart(this.maxLength,"0"),o=String(this.to).padStart(this.maxLength,"0");let u=0;for(;u<o.length&&o[u]===a[u];)++u;r.mask=o.slice(0,u).replace(/0/g,"\\0")+"0".repeat(this.maxLength-u),super._update(r)}get isComplete(){return super.isComplete&&Boolean(this.value)}boundaries(t){let e="",s="";const[,i,n]=t.match(/^(\D*)(\d*)(\D*)/)||[];return n&&(e="0".repeat(i.length)+n,s="9".repeat(i.length)+n),e=e.padEnd(this.maxLength,"0"),s=s.padEnd(this.maxLength,"9"),[e,s]}doPrepareChar(t,e){let s;return void 0===e&&(e={}),[t,s]=super.doPrepareChar(t.replace(/\D/g,""),e),t||(s.skip=!this.isComplete),[t,s]}_appendCharRaw(t,e){if(void 0===e&&(e={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(t,e);const s=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),[n,r]=this.boundaries(this.value+t);return Number(r)<this.from?super._appendCharRaw(s[this.value.length],e):Number(n)>this.to?!e.tail&&"pad"===this.autofix&&this.value.length+1<this.maxLength?super._appendCharRaw(s[this.value.length],e).aggregate(this._appendCharRaw(t,e)):super._appendCharRaw(i[this.value.length],e):super._appendCharRaw(t,e)}doValidate(t){const e=this.value;if(-1===e.search(/[^0]/)&&e.length<=this._matchFrom)return!0;const[s,i]=this.boundaries(e);return this.from<=Number(i)&&Number(s)<=this.to&&super.doValidate(t)}pad(t){const e=new ChangeDetails;if(this.value.length===this.maxLength)return e;const s=this.value,i=this.maxLength-this.value.length;if(i){this.reset();for(let s=0;s<i;++s)e.aggregate(super._appendCharRaw("0",t));s.split("").forEach((t=>this._appendCharRaw(t)))}return e}}IMask.MaskedRange=MaskedRange;class MaskedDate extends MaskedPattern{static extractPatternOptions(t){const{mask:e,pattern:s,...i}=t;return{...i,mask:isString(e)?e:s}}constructor(t){super(MaskedDate.extractPatternOptions({...MaskedDate.DEFAULTS,...t}))}updateOptions(t){super.updateOptions(t)}_update(t){const{mask:e,pattern:s,blocks:i,...n}={...MaskedDate.DEFAULTS,...t},r=Object.assign({},MaskedDate.GET_DEFAULT_BLOCKS());t.min&&(r.Y.from=t.min.getFullYear()),t.max&&(r.Y.to=t.max.getFullYear()),t.min&&t.max&&r.Y.from===r.Y.to&&(r.m.from=t.min.getMonth()+1,r.m.to=t.max.getMonth()+1,r.m.from===r.m.to&&(r.d.from=t.min.getDate(),r.d.to=t.max.getDate())),Object.assign(r,this.blocks,i),super._update({...n,mask:isString(e)?e:s,blocks:r})}doValidate(t){const e=this.date;return super.doValidate(t)&&(!this.isComplete||this.isDateExist(this.value)&&null!=e&&(null==this.min||this.min<=e)&&(null==this.max||e<=this.max))}isDateExist(t){return this.format(this.parse(t,this),this).indexOf(t)>=0}get date(){return this.typedValue}set date(t){this.typedValue=t}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(t){super.typedValue=t}maskEquals(t){return t===Date||super.maskEquals(t)}optionsIsChanged(t){return super.optionsIsChanged(MaskedDate.extractPatternOptions(t))}}MaskedDate.GET_DEFAULT_BLOCKS=()=>({d:{mask:MaskedRange,from:1,to:31,maxLength:2},m:{mask:MaskedRange,from:1,to:12,maxLength:2},Y:{mask:MaskedRange,from:1900,to:9999}}),MaskedDate.DEFAULTS={...MaskedPattern.DEFAULTS,mask:Date,pattern:"d{.}`m{.}`Y",format:(t,e)=>{if(!t)return"";return[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()].join(".")},parse:(t,e)=>{const[s,i,n]=t.split(".").map(Number);return new Date(n,i-1,s)}},IMask.MaskedDate=MaskedDate;class MaskedDynamic extends Masked{constructor(t){super({...MaskedDynamic.DEFAULTS,...t}),this.currentMask=void 0}updateOptions(t){super.updateOptions(t)}_update(t){super._update(t),"mask"in t&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(t.mask)?t.mask.map((t=>{const{expose:e,...s}=normalizeOpts(t),i=createMask({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...s});return e&&(this.exposeMask=i),i})):[])}_appendCharRaw(t,e){void 0===e&&(e={});const s=this._applyDispatch(t,e);return this.currentMask&&s.aggregate(this.currentMask._appendChar(t,this.currentMaskFlags(e))),s}_applyDispatch(t,e,s){void 0===t&&(t=""),void 0===e&&(e={}),void 0===s&&(s="");const i=e.tail&&null!=e._beforeTailState?e._beforeTailState._value:this.value,n=this.rawInputValue,r=e.tail&&null!=e._beforeTailState?e._beforeTailState._rawInputValue:n,a=n.slice(r.length),o=this.currentMask,u=new ChangeDetails,l=null==o?void 0:o.state;return this.currentMask=this.doDispatch(t,{...e},s),this.currentMask&&(this.currentMask!==o?(this.currentMask.reset(),r&&(this.currentMask.append(r,{raw:!0}),u.tailShift=this.currentMask.value.length-i.length),a&&(u.tailShift+=this.currentMask.append(a,{raw:!0,tail:!0}).tailShift)):l&&(this.currentMask.state=l)),u}_appendPlaceholder(){const t=this._applyDispatch();return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t}_appendEager(){const t=this._applyDispatch();return this.currentMask&&t.aggregate(this.currentMask._appendEager()),t}appendTail(t){const e=new ChangeDetails;return t&&e.aggregate(this._applyDispatch("",{},t)),e.aggregate(this.currentMask?this.currentMask.appendTail(t):super.appendTail(t))}currentMaskFlags(t){var e,s;return{...t,_beforeTailState:(null==(e=t._beforeTailState)?void 0:e.currentMaskRef)===this.currentMask&&(null==(s=t._beforeTailState)?void 0:s.currentMask)||t._beforeTailState}}doDispatch(t,e,s){return void 0===e&&(e={}),void 0===s&&(s=""),this.dispatch(t,this,e,s)}doValidate(t){return super.doValidate(t)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(t)))}doPrepare(t,e){void 0===e&&(e={});let[s,i]=super.doPrepare(t,e);if(this.currentMask){let t;[s,t]=super.doPrepare(s,this.currentMaskFlags(e)),i=i.aggregate(t)}return[s,i]}doPrepareChar(t,e){void 0===e&&(e={});let[s,i]=super.doPrepareChar(t,e);if(this.currentMask){let t;[s,t]=super.doPrepareChar(s,this.currentMaskFlags(e)),i=i.aggregate(t)}return[s,i]}reset(){var t;null==(t=this.currentMask)||t.reset(),this.compiledMasks.forEach((t=>t.reset()))}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(t){this.exposeMask?(this.exposeMask.value=t,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=t}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(t){this.exposeMask?(this.exposeMask.unmaskedValue=t,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=t}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(t){if(this.exposeMask)return this.exposeMask.typedValue=t,this.currentMask=this.exposeMask,void this._applyDispatch();let e=String(t);this.currentMask&&(this.currentMask.typedValue=t,e=this.currentMask.unmaskedValue),this.unmaskedValue=e}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var t;return Boolean(null==(t=this.currentMask)?void 0:t.isComplete)}get isFilled(){var t;return Boolean(null==(t=this.currentMask)?void 0:t.isFilled)}remove(t,e){const s=new ChangeDetails;return this.currentMask&&s.aggregate(this.currentMask.remove(t,e)).aggregate(this._applyDispatch()),s}get state(){var t;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((t=>t.state)),currentMaskRef:this.currentMask,currentMask:null==(t=this.currentMask)?void 0:t.state}}set state(t){const{compiledMasks:e,currentMaskRef:s,currentMask:i,...n}=t;e&&this.compiledMasks.forEach(((t,s)=>t.state=e[s])),null!=s&&(this.currentMask=s,this.currentMask.state=i),super.state=n}extractInput(t,e,s){return this.currentMask?this.currentMask.extractInput(t,e,s):""}extractTail(t,e){return this.currentMask?this.currentMask.extractTail(t,e):super.extractTail(t,e)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(t,e){return this.currentMask?this.currentMask.nearestInputPos(t,e):super.nearestInputPos(t,e)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(t){this._overwrite=t}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(t){this._eager=t}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(t){this._skipInvalid=t}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(t){this._autofix=t}maskEquals(t){return Array.isArray(t)?this.compiledMasks.every(((e,s)=>{if(!t[s])return;const{mask:i,...n}=t[s];return objectIncludes(e,n)&&e.maskEquals(i)})):super.maskEquals(t)}typedValueEquals(t){var e;return Boolean(null==(e=this.currentMask)?void 0:e.typedValueEquals(t))}}MaskedDynamic.DEFAULTS={...Masked.DEFAULTS,dispatch:(t,e,s,i)=>{if(!e.compiledMasks.length)return;const n=e.rawInputValue,r=e.compiledMasks.map(((r,a)=>{const o=e.currentMask===r,u=o?r.displayValue.length:r.nearestInputPos(r.displayValue.length,Zt);return r.rawInputValue!==n?(r.reset(),r.append(n,{raw:!0})):o||r.remove(u),r.append(t,e.currentMaskFlags(s)),r.appendTail(i),{index:a,weight:r.rawInputValue.length,totalInputPositions:r.totalInputPositions(0,Math.max(u,r.nearestInputPos(r.displayValue.length,Zt)))}}));return r.sort(((t,e)=>e.weight-t.weight||e.totalInputPositions-t.totalInputPositions)),e.compiledMasks[r[0].index]}},IMask.MaskedDynamic=MaskedDynamic;class MaskedEnum extends MaskedPattern{constructor(t){super({...MaskedEnum.DEFAULTS,...t})}updateOptions(t){super.updateOptions(t)}_update(t){const{enum:e,...s}=t;if(e){const t=e.map((t=>t.length)),i=Math.min(...t),n=Math.max(...t)-i;s.mask="*".repeat(i),n&&(s.mask+="["+"*".repeat(n)+"]"),this.enum=e}super._update(s)}_appendCharRaw(t,e){void 0===e&&(e={});const s=Math.min(this.nearestInputPos(0,Gt),this.value.length),i=this.enum.filter((e=>this.matchValue(e,this.unmaskedValue+t,s)));if(i.length){1===i.length&&this._forEachBlocksInRange(0,this.value.length,((t,s)=>{const n=i[0][s];s>=this.value.length||n===t.value||(t.reset(),t._appendChar(n,e))}));const t=super._appendCharRaw(i[0][this.value.length],e);return 1===i.length&&i[0].slice(this.unmaskedValue.length).split("").forEach((e=>t.aggregate(super._appendCharRaw(e)))),t}return new ChangeDetails({skip:!this.isComplete})}extractTail(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),new ContinuousTailDetails("",t)}remove(t,e){if(void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),t===e)return new ChangeDetails;const s=Math.min(super.nearestInputPos(0,Gt),this.value.length);let i;for(i=t;i>=0;--i){if(this.enum.filter((t=>this.matchValue(t,this.value.slice(s,i),s))).length>1)break}const n=super.remove(i,e);return n.tailShift+=i-t,n}get isComplete(){return this.enum.indexOf(this.value)>=0}}MaskedEnum.DEFAULTS={...MaskedPattern.DEFAULTS,matchValue:(t,e,s)=>t.indexOf(e,s)===s},IMask.MaskedEnum=MaskedEnum;var Jt;IMask.MaskedFunction=class MaskedFunction extends Masked{updateOptions(t){super.updateOptions(t)}_update(t){super._update({...t,validate:t.mask})}};class MaskedNumber extends Masked{constructor(t){super({...MaskedNumber.DEFAULTS,...t})}updateOptions(t){super.updateOptions(t)}_update(t){super._update(t),this._updateRegExps()}_updateRegExps(){const t="^"+(this.allowNegative?"[+|\\-]?":""),e=(this.scale?"("+escapeRegExp(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(t+"\\d*"+e),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(escapeRegExp).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(escapeRegExp(this.thousandsSeparator),"g")}_removeThousandsSeparators(t){return t.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(t){const e=t.split(this.radix);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),e.join(this.radix)}doPrepareChar(t,e){void 0===e&&(e={});const[s,i]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(e.input&&e.raw||!e.input&&!e.raw)?t.replace(this._mapToRadixRegExp,this.radix):t),e);return t&&!s&&(i.skip=!0),!s||this.allowPositive||this.value||"-"===s||i.aggregate(this._appendChar("-")),[s,i]}_separatorsCount(t,e){void 0===e&&(e=!1);let s=0;for(let i=0;i<t;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++s,e&&(t+=this.thousandsSeparator.length));return s}_separatorsCountFromSlice(t){return void 0===t&&(t=this._value),this._separatorsCount(this._removeThousandsSeparators(t).length,!0)}extractInput(t,e,s){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),[t,e]=this._adjustRangeWithSeparators(t,e),this._removeThousandsSeparators(super.extractInput(t,e,s))}_appendCharRaw(t,e){void 0===e&&(e={});const s=e.tail&&e._beforeTailState?e._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(s);this._value=this._removeThousandsSeparators(this.value);const n=this._value;this._value+=t;const r=this.number;let a,o=!isNaN(r),u=!1;if(o){let t;null!=this.min&&this.min<0&&this.number<this.min&&(t=this.min),null!=this.max&&this.max>0&&this.number>this.max&&(t=this.max),null!=t&&(this.autofix?(this._value=this.format(t,this).replace(MaskedNumber.UNMASKED_RADIX,this.radix),u||(u=n===this._value&&!e.tail)):o=!1),o&&(o=Boolean(this._value.match(this._numberRegExp)))}o?a=new ChangeDetails({inserted:this._value.slice(n.length),rawInserted:u?"":t,skip:u}):(this._value=n,a=new ChangeDetails),this._value=this._insertThousandsSeparators(this._value);const l=e.tail&&e._beforeTailState?e._beforeTailState._value:this._value,h=this._separatorsCountFromSlice(l);return a.tailShift+=(h-i)*this.thousandsSeparator.length,a}_findSeparatorAround(t){if(this.thousandsSeparator){const e=t-this.thousandsSeparator.length+1,s=this.value.indexOf(this.thousandsSeparator,e);if(s<=t)return s}return-1}_adjustRangeWithSeparators(t,e){const s=this._findSeparatorAround(t);s>=0&&(t=s);const i=this._findSeparatorAround(e);return i>=0&&(e=i+this.thousandsSeparator.length),[t,e]}remove(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),[t,e]=this._adjustRangeWithSeparators(t,e);const s=this.value.slice(0,t),i=this.value.slice(e),n=this._separatorsCount(s.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(s+i));const r=this._separatorsCountFromSlice(s);return new ChangeDetails({tailShift:(r-n)*this.thousandsSeparator.length})}nearestInputPos(t,e){if(!this.thousandsSeparator)return t;switch(e){case Xt:case Kt:case Zt:{const s=this._findSeparatorAround(t-1);if(s>=0){const i=s+this.thousandsSeparator.length;if(t<i||this.value.length<=i||e===Zt)return s}break}case Qt:case Gt:{const e=this._findSeparatorAround(t);if(e>=0)return e+this.thousandsSeparator.length}}return t}doCommit(){if(this.value){const t=this.number;let e=t;null!=this.min&&(e=Math.max(e,this.min)),null!=this.max&&(e=Math.min(e,this.max)),e!==t&&(this.unmaskedValue=this.format(e,this));let s=this.value;this.normalizeZeros&&(s=this._normalizeZeros(s)),this.padFractionalZeros&&this.scale>0&&(s=this._padFractionalZeros(s)),this._value=s}super.doCommit()}_normalizeZeros(t){const e=this._removeThousandsSeparators(t).split(this.radix);return e[0]=e[0].replace(/^(\D*)(0*)(\d*)/,((t,e,s,i)=>e+i)),t.length&&!/\d$/.test(e[0])&&(e[0]=e[0]+"0"),e.length>1&&(e[1]=e[1].replace(/0*$/,""),e[1].length||(e.length=1)),this._insertThousandsSeparators(e.join(this.radix))}_padFractionalZeros(t){if(!t)return t;const e=t.split(this.radix);return e.length<2&&e.push(""),e[1]=e[1].padEnd(this.scale,"0"),e.join(this.radix)}doSkipInvalid(t,e,s){void 0===e&&(e={});const i=0===this.scale&&t!==this.thousandsSeparator&&(t===this.radix||t===MaskedNumber.UNMASKED_RADIX||this.mapToRadix.includes(t));return super.doSkipInvalid(t,e,s)&&!i}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,MaskedNumber.UNMASKED_RADIX)}set unmaskedValue(t){super.unmaskedValue=t}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(t){this.rawInputValue=this.format(t,this).replace(MaskedNumber.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(t){this.typedValue=t}get allowNegative(){return null!=this.min&&this.min<0||null!=this.max&&this.max<0}get allowPositive(){return null!=this.min&&this.min>0||null!=this.max&&this.max>0}typedValueEquals(t){return(super.typedValueEquals(t)||MaskedNumber.EMPTY_VALUES.includes(t)&&MaskedNumber.EMPTY_VALUES.includes(this.typedValue))&&!(0===t&&""===this.value)}}Jt=MaskedNumber,MaskedNumber.UNMASKED_RADIX=".",MaskedNumber.EMPTY_VALUES=[...Masked.EMPTY_VALUES,0],MaskedNumber.DEFAULTS={...Masked.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[Jt.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:t=>t.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})},IMask.MaskedNumber=MaskedNumber;const te={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function createPipe(t,e,s){void 0===e&&(e=te.MASKED),void 0===s&&(s=te.MASKED);const i=createMask(t);return t=>i.runIsolated((i=>(i[e]=t,i[s])))}IMask.PIPE_TYPE=te,IMask.createPipe=createPipe,IMask.pipe=function pipe(t,e,s,i){return createPipe(e,s,i)(t)};IMask.RepeatBlock=class RepeatBlock extends MaskedPattern{get repeatFrom(){var t;return null!=(t=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)?t:0}get repeatTo(){var t;return null!=(t=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)?t:1/0}constructor(t){super(t)}updateOptions(t){super.updateOptions(t)}_update(t){var e,s,i;const{repeat:n,...r}=normalizeOpts(t);this._blockOpts=Object.assign({},this._blockOpts,r);const a=createMask(this._blockOpts);this.repeat=null!=(e=null!=(s=null!=n?n:a.repeat)?s:this.repeat)?e:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&(null==(i=this._blocks)?void 0:i.length)||0,this.repeatFrom)),blocks:{m:a},eager:a.eager,overwrite:a.overwrite,skipInvalid:a.skipInvalid,lazy:a.lazy,placeholderChar:a.placeholderChar,displayChar:a.displayChar})}_allocateBlock(t){return t<this._blocks.length?this._blocks[t]:this.repeatTo===1/0||this._blocks.length<this.repeatTo?(this._blocks.push(createMask(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]):void 0}_appendCharRaw(t,e){void 0===e&&(e={});const s=new ChangeDetails;for(let o,u,l=null!=(i=null==(n=this._mapPosToBlock(this.displayValue.length))?void 0:n.index)?i:Math.max(this._blocks.length-1,0);o=null!=(r=this._blocks[l])?r:u=!u&&this._allocateBlock(l);++l){var i,n,r,a;const h=o._appendChar(t,{...e,_beforeTailState:null==(a=e._beforeTailState)||null==(a=a._blocks)?void 0:a[l]});if(h.skip&&u){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(s.aggregate(h),h.consumed)break}return s}_trimEmptyTail(t,e){var s,i;void 0===t&&(t=0);const n=Math.max((null==(s=this._mapPosToBlock(t))?void 0:s.index)||0,this.repeatFrom,0);let r;null!=e&&(r=null==(i=this._mapPosToBlock(e))?void 0:i.index),null==r&&(r=this._blocks.length-1);let a=0;for(let t=r;n<=t&&!this._blocks[t].unmaskedValue;--t,++a);a&&(this._blocks.splice(r-a+1,a),this.mask=this.mask.slice(a))}reset(){super.reset(),this._trimEmptyTail()}remove(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);const s=super.remove(t,e);return this._trimEmptyTail(t,e),s}totalInputPositions(t,e){return void 0===t&&(t=0),null==e&&this.repeatTo===1/0?1/0:super.totalInputPositions(t,e)}get state(){return super.state}set state(t){this._blocks.length=t._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=t}};try{globalThis.IMask=IMask}catch{}function maskPhone(t){var e=document.querySelectorAll(t);e.length&&e.forEach((function(t){var e=null;t.addEventListener("focus",(function(){e||function initializeMask(){(e=IMask(t,{mask:"+7 (000) 000-00-00",lazy:!0})).updateValue()}(),""===t.value&&(t.value="+7 "),e.updateValue()})),t.addEventListener("blur",(function(){"+7"===t.value.trim()&&(t.value="",e&&e.updateValue(""))}))}))}function toggleSidebarMenu(t){var e=document.querySelector(".page__aside-button");function resetTransitionOnce(t){t.addEventListener("transitionend",(function transitionEndHandler(){t.style.transition="",t.removeEventListener("transitionend",transitionEndHandler)}))}t.classList.contains("_open-menu")?(t.style.transition="transform 0.3s ease",t.classList.remove("_open-menu"),resetScrollbarOffset(),document.body.classList.remove("no-scroll"),resetTransitionOnce(t),e&&setTimeout((function(){e.style.opacity="1",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="all"}),300)):(e&&(e.style.opacity="0",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="none"),t.style.transition="transform 0.3s ease",t.classList.add("_open-menu"),handleScrollbarOffset(t),document.body.classList.add("no-scroll"),resetTransitionOnce(t))}var ee=document.querySelector(".page__header");function handleScrollbarOffset(t){var e;e=window.scrollY||document.documentElement.scrollTop,document.documentElement.style.setProperty("--scroll-position","".concat(e,"px"));var s=window.innerWidth-document.documentElement.clientWidth;s>0&&(document.body.style.paddingRight="".concat(s,"px"),t&&(t.style.paddingRight="".concat(s,"px"),ee.style.paddingRight="".concat(s,"px")))}function resetScrollbarOffset(t){document.documentElement.style.removeProperty("--scroll-position"),t&&(t.style.paddingRight="",ee.style.paddingRight=""),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}!function loaded(t){window.onload=function(){document.querySelector(t).classList.add("preloader-remove"),document.documentElement.classList.add("loaded")}}(".preloader"),function falidateForm(){document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".form-order").forEach((function(t,e){var s=t.querySelector(".input.name"),i=t.querySelector(".input.phone"),n=t.querySelector(".checkbox__input"),r=t.querySelector(".send-button"),a=t.querySelector(".send-button").closest(".button-container");function animateError(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.maxSpread,i=void 0===s?12:s,n=e.duration,r=void 0===n?1e3:n,a=e.pulses,o=void 0===a?3:a,u=t.closest(".button-container")||t.parentElement;if(u){var l=null,h=r;requestAnimationFrame((function frame(t){l||(l=t);var e=t-l,s=Math.min(e/h,1),n=Math.abs(Math.sin(s*o*Math.PI)),r=i*n;u.style.boxShadow="0 0 ".concat(r,"px ").concat(r/2,"px rgba(255,0,0,0.6)"),e<h?requestAnimationFrame(frame):u.style.boxShadow=""}))}}function validateFormFields(){var t=s.value.trim(),e=i.value.trim(),o=t.length>=3&&18===e.length&&n.checked;return a.classList.toggle("is-disabled",!o),r.disabled=!n.checked,o}[s,i,n,r,a].includes(null)||(s.addEventListener("input",validateFormFields),i.addEventListener("input",validateFormFields),n.addEventListener("change",validateFormFields),validateFormFields(),a.addEventListener("click",(function(t){a.classList.contains("is-disabled")&&(t.preventDefault(),console.warn("⚠️ [Форма ".concat(e+1,"] Невалидная попытка отправки")),function showValidationErrors(){s.value.trim().length<3&&animateError(s),18!==i.value.trim().length&&animateError(i),n.checked||animateError(n)}())})),r.addEventListener("click",(function(){if(!r.disabled&&!a.classList.contains("is-disabled")){var t="";r&&(t=r.getAttribute("goal-name")||"");var e=new FormData;e.append("action","send_telegram_message"),i&&i.value&&e.append("phone",i.value.trim()),s&&s.value&&e.append("name",s.value.trim()),e.append("goalName",t),fetch(localizedVars.ajax_url,{method:"POST",headers:{"X-WP-Nonce":localizedVars.ajax_nonce},body:e}).then((function(t){return t.text()})).then((function(t){alert("Ваш запрос отправлен."),console.log("Ответ сервера:",t),i&&(i.value=""),s&&(s.value=""),n&&(n.checked=!1),r.classList.toggle("is-disabled",!0)})).catch((function(t){console.error("Ошибка при отправке:",t),alert("Произошла ошибка при отправке данных.")}))}})))}))}))}(),function fadeInColumn(t){document.querySelectorAll(t).forEach((function(t,e){if(!Wt){var s=[{enter:"bottom-=50 top",leave:"bottom-=200 top"},{enter:"bottom-=50 top",leave:"bottom-=450 top"},{enter:"bottom-=50 top",leave:"bottom-=650 top"}],i=s[e]||s[0];animate(t,{y:["10%","0%"],opacity:[.3,1],ease:"linear",autoplay:onScroll({enter:i.enter,leave:i.leave,sync:.25})})}}))}(".its-col"),function fadeInBlock(t){document.querySelectorAll(t).forEach((function(t){Wt||animate(t,{y:["20%","0%"],ease:"linear",autoplay:onScroll({enter:"bottom-=10 top",leave:"bottom-=350 top",sync:.25})})}))}(".its-block"),function fadeInItem(t){document.querySelectorAll(t).forEach((function(t){Wt||animate(t,{y:["100%","0%"],opacity:[.3,1],ease:"linear",autoplay:onScroll({enter:"bottom-=10 top",leave:"bottom-=250 top",sync:.25})})}))}(".its-el"),function animateHeader(){!function loopAnimation(){document.querySelectorAll(".header-blink, .button-blink").forEach((function(t){animate(t,{left:["-100%","150%"],duration:3e3,easing:"easeOutSine",direction:"alternate",loop:!1,complete:function complete(){setTimeout(loopAnimation,6e3)}})}))}(),createTimeline({defaults:{delay:300,duration:950}}).add(".tl-1",{x:{from:"15rem"},opacity:[0,1]}).add(".tl-2",{x:{from:"15rem"},opacity:[0,1]},600).add(".tl-3",{x:{from:"40rem"},opacity:[0,1]},1200),document.querySelectorAll(".header__link-key").forEach((function(t){var e;(e={root:t,defaults:{ease:"outQuad",duration:500}},new Scope(e)).add((function(t){var e=t.root,s=t.methods;anime_esm_text_split(e,{chars:{class:"char",clone:"left",wrap:"clip"}});var i=createTimeline({autoplay:!1,defaults:{ease:"inOutQuad",duration:400}}).add(".char > span",{x:"100%"},((t,e={})=>{let s=[],i=0;const n=e.from,r=e.reversed,a=e.ease,o=!isUnd(a),u=o&&!isUnd(a.ease)?a.ease:o?parseEasings(a):null,l=e.grid,h=e.axis,d=e.total,c=isUnd(n)||0===n||"first"===n,p="center"===n,m="last"===n,f="random"===n,g=z(t),_=e.use,k=parseNumber(g?t[0]:t),v=g?parseNumber(t[1]):0,b=V.exec((g?t[1]:t)+x),y=e.start||0+(g?k:0);let C=c?0:isNum(n)?n:0;return(t,n,a,o)=>{const[c]=registerTargets(t),E=isUnd(d)?a:d,x=!isUnd(_)&&(isFnc(_)?_(c,n,E):getOriginalAnimatableValue(c,_)),S=isNum(x)||isStr(x)&&isNum(+x)?+x:n;if(p&&(C=(E-1)/2),m&&(C=E-1),!s.length){for(let t=0;t<E;t++){if(l){const e=p?(l[0]-1)/2:C%l[0],i=p?(l[1]-1)/2:Z(C/l[0]),n=e-t%l[0],r=i-Z(t/l[0]);let a=j(n*n+r*r);"x"===h&&(a=-n),"y"===h&&(a=-r),s.push(a)}else s.push(X(C-t));i=G(...s)}u&&(s=s.map((t=>u(t/i)*i))),r&&(s=s.map((t=>h?t<0?-1*t:-t:X(i-t)))),f&&(s=shuffle(s))}const A=g?(v-k)/i:k;let w=(o?parseTimelinePosition(o,isUnd(e.start)?o.iterationDuration:y):y)+(A*round(s[S],2)||0);return e.modifier&&(w=e.modifier(w)),b&&(w=`${w}${b[2]}`),w}})(5,{use:"data-char"}));Wt||(t.add("onEnter",(function(){return animate(i,{progress:1})})),t.add("onLeave",(function(){return animate(i,{progress:0})}))),e.addEventListener("pointerenter",s.onEnter),e.addEventListener("pointerleave",s.onLeave)}))}))}(),function smoothScrollTitle(t){document.querySelectorAll(t).forEach((function(t){Wt||animate(t,{x:["20%","0%"],ease:"linear",autoplay:onScroll({enter:"bottom-=100 top",leave:"bottom-=250 bottom",sync:.1})})}))}(".el-item"),document.addEventListener("DOMContentLoaded",(function(){!function cookiesAccept(t,e){var s=document.querySelector(t),i=document.querySelector(e);s?(i?i.addEventListener("click",(function(){s.style.transform="translateY(100%)",s.style.transition="transform 0.5s ease"})):console.log("кнопка не найдена"),setTimeout((function(){s.style.transform="translateY(0)",s.style.transition="transform 0.5s ease"}),3e3)):console.log("Элемент cookiesAccept не найден")}(".cookies-accept",".cookies-accept__button")})),function anchorsSmoothScrolling(){document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".anchor-link").forEach((function(t){t.addEventListener("click",(function(t){var e=this.getAttribute("href"),s=new URL(e,window.location.href);if(s.pathname===window.location.pathname){t.preventDefault();var i=s.hash.substring(1),n=t.target.closest(".sidebar-menu");if(n&&n.classList.contains("_open-menu")){var r=document.querySelector(".burger-button");null==r||r.classList.remove("is-active"),document.body.classList.remove("no-scroll"),toggleSidebarMenu(n)}!function scrollToAnchor(t){var e=document.getElementById(t);if(e){var s=window.innerWidth,i=100;s<=768?i=80:s<=1440&&(i=71);var n=e.getBoundingClientRect().top+window.scrollY-i;window.scrollTo({top:n,behavior:"smooth"})}}(i)}}))}))}))}(),function sidebarMenuHandle(){var t=document.querySelectorAll(".burger-button"),e=document.querySelector(".header"),s=document.querySelector(".sidebar-menu");t.forEach((function(t){t.addEventListener("click",(function(){t.classList.toggle("is-active"),t.classList.contains("is-active")?(toggleSidebarMenu(s),e.classList.add("with-shadow")):t.classList.contains("is-active")||(toggleSidebarMenu(s),e.classList.remove("with-shadow"))}))})),window.addEventListener("resize",(function(){t.forEach((function(t){t.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),s.classList.remove("_open-menu"),t.classList.remove("is-active"))}))}))}(),function dynamicAdaptive(){var t=[],e=document.querySelectorAll("[data-da]"),s=[],i=[];if(e.length>0){for(var n=0,r=0;r<e.length;r++){var a=e[r],o=a.getAttribute("data-da"),u=a.hasAttribute("data-da-position")?a.getAttribute("data-da-position"):"last",l=a.hasAttribute("data-da-resolution")?a.getAttribute("data-da-resolution"):768;a.setAttribute("data-da-index",n),t[n]={parent:a.parentNode,index:indexInParent(a)},s[n]={element:a,destination:document.querySelector("."+o),place:u,breakpoint:l},n++}!function dynamicAdaptSort(t){t.sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),t.sort((function(t,e){return t.place>e.place?1:-1}))}(s);for(var h=0;h<s.length;h++){var d=s[h].breakpoint,c=window.matchMedia("(".concat("max","-width: ").concat(d,"px)"));i.push(c),c.addEventListener("change",dynamicAdapt)}}function dynamicAdapt(){for(var t=0;t<s.length;t++){var e=s[t],n=e.element,r=e.destination,a=e.place,o="_dynamic_adapt_"+e.breakpoint;if(i[t].matches){if(!n.classList.contains(o)){var u=indexOfElements(r)[a];"first"===a?u=indexOfElements(r)[0]:"last"===a&&(u=indexOfElements(r)[indexOfElements(r).length]),r.insertBefore(n,r.children[u]),n.classList.add(o)}}else n.classList.contains(o)&&(dynamicAdaptBack(n),n.classList.remove(o))}}function dynamicAdaptBack(e){var s=e.getAttribute("data-da-index"),i=t[s],n=i.parent,r=i.index,a=indexOfElements(n,!0)[r];n.insertBefore(e,n.children[a])}function indexInParent(t){return Array.prototype.slice.call(t.parentNode.children).indexOf(t)}function indexOfElements(t,e){for(var s=t.children,i=[],n=0;n<s.length;n++){var r=s[n];(e||null==r.getAttribute("data-da"))&&i.push(n)}return i}dynamicAdapt()}(),function shadowScrollHeader(){var t=function handleScroll(){var t=document.querySelector(".header"),e=document.querySelector(".page__main-content").getBoundingClientRect().top;t&&(e<-50?t.classList.add("with-shadow"):e<=0&&t.classList.remove("with-shadow"))};return window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}}(),function toggleModal(){[{triggerSelector:".button-request",modalSelector:".request-form"},{triggerSelector:".ordercall-button",modalSelector:".order-call-form"},{triggerSelector:".button-question",modalSelector:".questions-form"}].forEach((function(t){var e=t.triggerSelector,s=t.modalSelector,i=document.querySelector(s),n=document.querySelectorAll(e),r=i.querySelector(".btn-close");n.forEach((function(t){t.addEventListener("click",(function(){if(handleScrollbarOffset(i),document.body.classList.add("no-scroll"),i.classList.add("is-open"),".questions-form"===s){var t=function fieldsetsToggle(){var t=document.querySelector(".form-question__content"),e=document.querySelectorAll(".form-question .form-question__fieldset-table"),s=0,i=function updateContainerHeight(){var e=t.querySelector(".form-question__fieldset-table.active");if(e){var s=e.offsetHeight;t.style.height="".concat(s,"px")}},n=function showFieldset(t){e.forEach((function(t){return t.classList.remove("active")})),e[t].classList.add("active"),i()};return document.querySelectorAll("._btn-next").forEach((function(t){t.addEventListener("click",(function(){s<e.length-1&&(s++,n(s))}))})),document.querySelectorAll("._btn-prew").forEach((function(t){t.addEventListener("click",(function(){s>0&&(s--,n(s))}))})),{showFieldset:n}}();(0,t.showFieldset)(0)}}))})),r.addEventListener("click",(function(){if(resetScrollbarOffset(i),i.classList.remove("is-open"),document.body.classList.remove("no-scroll"),".questions-form"===s){var t=i.querySelector(".form-question__fieldset-table.active");t?(t.classList.remove("active"),console.log("Класс active удалён")):console.log("Нет активного fieldset")}}))}))}(),document.addEventListener("DOMContentLoaded",(function(){maskPhone(".phone")})),console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;")}},t=>{var e;e=468,t(t.s=e)}]);
//# sourceMappingURL=main.min.js.map